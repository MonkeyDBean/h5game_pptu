var AssetAdapter=function(){function e(){}var t=(__define,e),i=t.prototype;return i.getAsset=function(e,t,i){function l(l){t.call(i,l,e)}if(RES.hasRes(e)){var s=RES.getRes(e);s?l(s):RES.getResAsync(e,l,this)}else RES.getResByUrl(e,l,this,RES.ResourceItem.TYPE_IMAGE)},e}();egret.registerClass(AssetAdapter,"AssetAdapter",["eui.IAssetAdapter"]);var LoadingUI=function(e){function t(){e.call(this),this.createView()}__extends(t,e);var i=(__define,t),l=i.prototype;return l.createView=function(){this.textField=new egret.TextField,this.addChild(this.textField),this.textField.y=300,this.textField.width=480,this.textField.height=100,this.textField.textAlign="center"},l.setProgress=function(e,t){this.textField.text="Loading..."+e+"/"+t},t}(egret.Sprite);egret.registerClass(LoadingUI,"LoadingUI");var Main=function(e){function t(){e.apply(this,arguments),this.isThemeLoadEnd=!1,this.isResourceLoadEnd=!1}__extends(t,e);var i=(__define,t),l=i.prototype;return l.createChildren=function(){e.prototype.createChildren.call(this);var t=new AssetAdapter;this.stage.registerImplementation("eui.IAssetAdapter",t),this.stage.registerImplementation("eui.IThemeAdapter",new ThemeAdapter),RES.loadConfig("resource/default.res.json","resource/"),RES.addEventListener(RES.ResourceEvent.CONFIG_COMPLETE,this.onConfigComplete,this)},l.onConfigComplete=function(e){var i={appId:Info.appDataEyeId};DCAgent.init(i),DCAgent.onEvent("normal_Loading_Enter"),AnchorUtil.init(),t.gameLayer=new egret.DisplayObjectContainer,this.addChild(t.gameLayer),t.euiLayer=new eui.UILayer,this.addChild(t.euiLayer),RES.removeEventListener(RES.ResourceEvent.CONFIG_COMPLETE,this.onConfigComplete,this),this.myTheme=new eui.Theme("resource/default.thm.json",this.stage),this.myTheme.addEventListener(eui.UIEvent.COMPLETE,this.onThemeLoadComplete,this)},l.onThemeLoadComplete=function(){DialogManager.open(MyLoadingView,"MyLoadingView",1),RES.loadGroup("preload"),RES.addEventListener(RES.ResourceEvent.GROUP_COMPLETE,this.onResourceLoadComplete,this),RES.addEventListener(RES.ResourceEvent.GROUP_LOAD_ERROR,this.onResourceLoadError,this),this.isThemeLoadEnd=!0,this.myTheme.removeEventListener(eui.UIEvent.COMPLETE,this.onThemeLoadComplete,this)},l.onResourceLoadComplete=function(e){"loading"==e.groupName&&Advert.getInstance().Init(),"preload"==e.groupName&&(RES.removeEventListener(RES.ResourceEvent.GROUP_COMPLETE,this.onResourceLoadComplete,this),RES.removeEventListener(RES.ResourceEvent.GROUP_LOAD_ERROR,this.onResourceLoadError,this),this.isResourceLoadEnd=!0,this.createScene())},l.createScene=function(){this.isThemeLoadEnd&&this.isResourceLoadEnd&&(this.startCreateScene(),DialogManager.remove("MyLoadingView",1,!1))},l.onResourceLoadError=function(e){console.warn("Group:"+e.groupName+" has failed to load"),this.onResourceLoadComplete(e)},l.startCreateScene=function(){this.Init()},l.Init=function(){DialogManager.open(GameView,"GameView",1),GameController.getInstance().Init()},t}(eui.UILayer);egret.registerClass(Main,"Main");var Cell_Style;!function(e){e[e.cellStyle_empty=0]="cellStyle_empty",e[e.cellStyle_Player=1]="cellStyle_Player",e[e.cellStyle_Wall=2]="cellStyle_Wall",e[e.cellStyle_Carrot=3]="cellStyle_Carrot",e[e.cellStyle_Platform=4]="cellStyle_Platform",e[e.cellStyle_RedDot=5]="cellStyle_RedDot",e[e.cellStyle_Spike=6]="cellStyle_Spike"}(Cell_Style||(Cell_Style={}));var Cell=function(e){function t(t){switch(e.call(this),this.width=this.height=50,this.anchorOffsetX=this.width/2,this.anchorOffsetY=this.height/2,this.bg=new eui.Image,this.bg.width=this.bg.height=50,this.bg.anchorOffsetX=this.bg.width/2,this.bg.anchorOffsetY=this.bg.height/2,this.bg.x=this.anchorOffsetX,this.bg.y=this.anchorOffsetY,t){case 0:this.bg.source="ground",this.myStyle=Cell_Style.cellStyle_empty;break;case 1:this.bg.source="pic_player",this.myStyle=Cell_Style.cellStyle_Player,this.bg.rotation=0;break;case 2:var i=Math.floor(5*Math.random());switch(i){case 0:this.bg.source="pic_brick0";break;case 1:this.bg.source="pic_brick1";break;case 2:this.bg.source="pic_brick2";break;case 3:this.bg.source="pic_brick3";break;case 4:this.bg.source="pic_brick4";break;default:this.bg.source="pic_brick0"}this.myStyle=Cell_Style.cellStyle_Wall,this.bg.rotation=0;break;case 3:this.bg.source="pic_carrot",this.myStyle=Cell_Style.cellStyle_Carrot,this.bg.rotation=0,this.eatEffect=new effectAnimation("eat_Json","eat_Image"),this.eatEffect.x=8,this.eatEffect.y=12,this.eatEffect.visible=!1,this.addChild(this.eatEffect);break;case 4:this.bg.source="pic_platform",this.myStyle=Cell_Style.cellStyle_Platform,this.bg.rotation=0;break;case 5:this.bg.source="pic_redDot",this.myStyle=Cell_Style.cellStyle_RedDot,this.bg.rotation=0;break;case 6:this.bg.source="pic_spikeR",this.bg.rotation=180,this.myStyle=Cell_Style.cellStyle_Spike;break;case 7:this.bg.source="pic_spikeR",this.bg.rotation=-90,this.myStyle=Cell_Style.cellStyle_Spike;break;case 8:this.bg.source="pic_spikeR",this.bg.rotation=0,this.myStyle=Cell_Style.cellStyle_Spike;break;case 9:this.bg.source="pic_spikeR",this.bg.rotation=90,this.myStyle=Cell_Style.cellStyle_Spike;break;default:this.bg.source="ground",this.myStyle=Cell_Style.cellStyle_empty}this.addChild(this.bg)}__extends(t,e);var i=(__define,t),l=i.prototype;return l.getBg=function(){return this.bg},t}(eui.Group);egret.registerClass(Cell,"Cell");var CellLong=function(e){function t(){e.call(this),this.width=600,this.height=50,this.anchorOffsetX=this.width/2,this.anchorOffsetY=this.height/2,this.bg=new eui.Image,this.bg.width=600,this.bg.height=50,this.bg.anchorOffsetX=this.bg.width/2,this.bg.anchorOffsetY=this.bg.height/2,this.bg.x=this.anchorOffsetX,this.bg.y=this.anchorOffsetY,this.bg.source="pic_platformLong",this.addChild(this.bg)}__extends(t,e);var i=(__define,t),l=i.prototype;return l.getBg=function(){return this.bg},t}(eui.Group);egret.registerClass(CellLong,"CellLong");var effectAnimation=function(e){function t(t,i){e.call(this),this.width=90,this.height=90,this.anchorOffsetX=this.width/2,this.anchorOffsetY=this.height/2;var l=RES.getRes(t),s=RES.getRes(i);this.mcf=new egret.MovieClipDataFactory(l,s),this.mc=new egret.MovieClip,this.mc.movieClipData=this.mcf.generateMovieClipData(),this.mc.anchorOffsetX=this.mc.width,this.mc.anchorOffsetY=this.mc.height,this.mc.x=this.width,this.mc.y=this.height,this.addChild(this.mc),this.visible=!1,this.mc.addEventListener(egret.Event.COMPLETE,this.removePlayerXAnimation,this)}__extends(t,e);var i=(__define,t),l=i.prototype;return l.removePlayerXAnimation=function(e){null!=this.parent&&this.parent.removeChild(this)},t}(egret.Sprite);egret.registerClass(effectAnimation,"effectAnimation");var GameController=function(){function e(){this.MaxLevel=10,this.startTime_level=0,this.endTime_level=0,this.durationTime_level=0}var t=(__define,e),i=t.prototype;return e.getInstance=function(){return null==this.instance&&(this.instance=new e),this.instance},i.Init=function(){GameView.m_UI.game_startButton.addEventListener(egret.TouchEvent.TOUCH_TAP,this.preStartGame,this)},i.preStartGame=function(){GameView.m_UI.game_startButton.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.preStartGame,this),PlayAudio(6,5,!1,!1),egret.Tween.get(GameView.m_UI.game_startButton).to({scaleX:.8,scaleY:.8},200).to({scaleX:1,scaleY:1},200).call(function(){this.StartGame()},this)},i.StartGame=function(){this.data={originalScore:0,finalScore:0,scientificScore:0,guestScore:0},this._stageJson=RES.getRes("stageJson"),StopAllAudio(),PlayAudio(0,.2,!0,!1),PlayAudio(5,1,!0,!1),this.startTime_level=egret.getTimer(),GameView.m_UI.start_group.parent&&(GameView.m_UI.removeChild(GameView.m_UI.start_group),delete GameView.m_UI.start_group),GameView.m_UI.myPlayerScore.text="0",this.curLevel=1,this.data.originalScore=0,this.mapMoveSpeed=400,this.treeArr=new Array;for(var e=0;3>e;e++)this.treeArr[e]=new eui.Image,Main.euiLayer.addChild(this.treeArr[e]);this.treeArr[0].source="scene3",this.treeArr[0].x=0,this.treeArr[0].y=-960,this.treeArr[1].source="scene3",this.treeArr[1].x=0,this.treeArr[1].y=0,this.treeArr[2].source="scene3",this.treeArr[2].x=0,this.treeArr[2].y=960,this.groundImage=new eui.Image,this.groundImage.source="scene1",this.groundImage.width=640,this.groundImage.height=960,this.groundImage.anchorOffsetY=this.groundImage.height,this.groundImage.x=0,this.groundImage.y=960,Main.euiLayer.addChild(this.groundImage),this.myMap=new Maps,this.myMap.x=320,this.myMap.y=730,Main.euiLayer.addChild(this.myMap),this.myMap.nowLevel=1,this.myMap.level_disp.text="10",this.curLevel=2,this.myMapNext=new Maps,this.myMapNext.x=320,this.myMapNext.y=this.myMap.y-this.myMap.height,Main.euiLayer.addChild(this.myMapNext),this.myMapNext.nowLevel=2,this.myMapNext.level_disp.text="9",this.curLevel=3,this.myMapThird=new Maps,this.myMapThird.x=320,this.myMapThird.y=this.myMapNext.y-this.myMapNext.height,Main.euiLayer.addChild(this.myMapThird),this.myMapThird.nowLevel=3,this.myMapThird.level_disp.text="8",Main.euiLayer.addChild(this.myMap),this.myPlayer=new Player,this.myPlayer.x=125,this.myPlayer.y=this.myMap.height-150,this.myPlayer.playerLastY=this.myPlayer.y,this.myMap.addChild(this.myPlayer),GameView.m_UI.life_num.text="10",this.addGameTimeListener(),Main.euiLayer.addEventListener(egret.TouchEvent.TOUCH_BEGIN,this.touchJump,this),Main.euiLayer.addChild(GameView.m_UI.life_heart),Main.euiLayer.addChild(GameView.m_UI.life_num),Main.euiLayer.addChild(GameView.m_UI.myPlayerScore),Main.euiLayer.addChild(GameView.m_UI.myPlayerScoreBottom)},i.addGameTimeListener=function(){this.myTimer=new egret.Timer(25,0),this.myTimer.addEventListener(egret.TimerEvent.TIMER,this.GameFrameHandler,this),this.myTimer.start()},i.GameFrameHandler=function(){this.mapMove(),this.myPlayer.y+150<0&&this.mapChange(),this.changeTreePos()},i.changeTreePos=function(){for(var e=0;3>e;e++)if(this.treeArr[e].y<=-1920){for(var t=0;3>t;t++)if(this.treeArr[t].y>-200){this.treeArr[e].y=this.treeArr[t].y+960;break}}else if(this.treeArr[e].y>=1920)for(var t=0;3>t;t++)if(this.treeArr[t].y<200){this.treeArr[e].y=this.treeArr[t].y-960;break}},i.mapChange=function(){switch(this.endTime_level=egret.getTimer(),this.durationTime_level=(this.endTime_level-this.startTime_level)/1e3,this.startTime_level=this.endTime_level,this.myMap.nowLevel){case 1:100-.2*this.durationTime_level>0&&(this.data.originalScore=this.data.originalScore+Math.floor(100-.2*this.durationTime_level));break;case 2:200-.4*this.durationTime_level>0&&(this.data.originalScore=this.data.originalScore+Math.floor(200-.4*this.durationTime_level));break;case 3:300-.6*this.durationTime_level>0&&(this.data.originalScore=this.data.originalScore+Math.floor(300-.6*this.durationTime_level));break;case 4:500-.8*this.durationTime_level>0&&(this.data.originalScore=this.data.originalScore+Math.floor(500-.8*this.durationTime_level));break;case 5:700-this.durationTime_level>0&&(this.data.originalScore=this.data.originalScore+Math.floor(700-this.durationTime_level));break;case 6:1e3-1.2*this.durationTime_level>0&&(this.data.originalScore=this.data.originalScore+Math.floor(1e3-1.2*this.durationTime_level));break;case 7:2e3-1.4*this.durationTime_level>0&&(this.data.originalScore=this.data.originalScore+Math.floor(2e3-1.4*this.durationTime_level));break;case 8:4e3-1.6*this.durationTime_level>0&&(this.data.originalScore=this.data.originalScore+Math.floor(4e3-1.6*this.durationTime_level));break;case 9:7e3-1.8*this.durationTime_level>0&&(this.data.originalScore=this.data.originalScore+Math.floor(7e3-1.8*this.durationTime_level));break;case 10:1e4-2*this.durationTime_level>0&&(this.data.originalScore=this.data.originalScore+Math.floor(1e4-2*this.durationTime_level))}this.data.originalScore+=50*this.myPlayer.playerLife,GameView.m_UI.myPlayerScore.text=e.getInstance().data.originalScore.toString(),this.myPlayer.playerLife=10,GameView.m_UI.life_num.text=this.myPlayer.playerLife.toString(),this.myMapThird.y>this.myMap.y&&(this.curLevel++,this.myMapThird.readMap(),this.myMapThird.x=320,this.myMapThird.y=this.myMapNext.y-this.myMapNext.height);var t=this.myPlayer.getGlobalPoint();this.myPlayer.parent&&this.myPlayer.parent.removeChild(this.myPlayer);var i;i=this.myMap,this.myMap=this.myMapNext,this.myMapNext=i,i=this.myMapNext,this.myMapNext=this.myMapThird,this.myMapThird=i,this.myMap.displayWinFlag(),this.myPlayer.runAnimation.mc.play(-1),this.myPlayer.slideAnimation.mc.play(-1),this.myMap.addChild(this.myPlayer);var l=this.myPlayer.parent.globalToLocal(t.x,t.y);this.myPlayer.x=l.x,this.myPlayer.y=l.y,Main.euiLayer.addChild(this.myMap),Main.euiLayer.addChild(GameView.m_UI.life_heart),Main.euiLayer.addChild(GameView.m_UI.life_num),Main.euiLayer.addChild(GameView.m_UI.myPlayerScore),Main.euiLayer.addChild(GameView.m_UI.myPlayerScoreBottom)},i.mapMove=function(){if(this.myPlayer.getGlobalPoint().y<580&&this.myPlayer.getGlobalPoint().y>380?(this.mapMoveSpeed=200,this.myMap.y+=this.mapMoveSpeed/40,this.myMapNext.y+=this.mapMoveSpeed/40,this.myMapThird.y+=this.mapMoveSpeed/40,this.curLevel<4&&(this.groundImage.y+=this.mapMoveSpeed/40)):this.myPlayer.getGlobalPoint().y>600?(this.myPlayer.getGlobalPoint().y>650?this.mapMoveSpeed=this.myPlayer.getSpeedY():this.mapMoveSpeed=400,this.myPlayer.getPlayerState()==playState.state_slide&&(this.mapMoveSpeed=this.myPlayer.getSlideSpeed()),this.myMap.y-=this.mapMoveSpeed/40,this.myMapNext.y-=this.mapMoveSpeed/40,this.myMapThird.y-=this.mapMoveSpeed/40,this.curLevel<4&&(this.groundImage.y-=this.mapMoveSpeed/40)):this.myPlayer.getGlobalPoint().y<=380&&(this.mapMoveSpeed=this.myPlayer.getSpeedY(),this.myMap.y+=this.mapMoveSpeed/40,this.myMapNext.y+=this.mapMoveSpeed/40,this.myMapThird.y+=this.mapMoveSpeed/40,this.curLevel<4&&(this.groundImage.y+=this.mapMoveSpeed/40)),this.myPlayer.getPlayerState()!==playState.state_idle)for(var e=0;3>e;e++)this.treeArr[e].y+=.5},i.mapMoveSynPlayer=function(){var e=this.myPlayer.getGlobalPoint(),t=this.myPlayer.parent.localToGlobal(0,this.myPlayer.playerLastY),i=e.y-t.y;this.myMap.y-=i,this.myMapNext.y-=i,this.myMapThird.y-=i},i.touchJump=function(){0==this.myPlayer.getJumpStage()?(this.myPlayer.getPlayerState()==playState.state_slide&&(this.myPlayer.setPlayerDirX(-this.myPlayer.getPlayerDirX()),-1==this.myPlayer.getPlayerDirX()?this.myPlayer.x-=20:1==this.myPlayer.getPlayerDirX()&&(this.myPlayer.x+=20)),this.myPlayer.changeState(playState.state_jump)):1==this.myPlayer.getJumpStage()&&this.myPlayer.changeState(playState.state_twiceJump)},i.recoverGame=function(){this.recoverGameEvent(),this.myMap.x=320,this.myMap.y=730,this.myMapNext.x=320,this.myMapNext.y=this.myMap.y-this.myMap.height,this.myMapThird.x=320,this.myMapThird.y=this.myMap.y+this.myMapThird.height,this.myPlayer.x=125,this.myPlayer.y=this.myMap.height-150},i.removeGameEvent=function(){this.myTimer.stop(),this.myTimer.removeEventListener(egret.TimerEvent.TIMER,this.GameFrameHandler,this),delete this.myTimer,Main.euiLayer.removeEventListener(egret.TouchEvent.TOUCH_BEGIN,this.touchJump,this)},i.removeTouchEvent=function(){Main.euiLayer.removeEventListener(egret.TouchEvent.TOUCH_BEGIN,this.touchJump,this)},i.recoverGameEvent=function(){this.addGameTimeListener(),Main.euiLayer.addEventListener(egret.TouchEvent.TOUCH_BEGIN,this.touchJump,this)},i.GameOver=function(){this.myPlayer.changeState(playState.state_dead),Main.euiLayer.removeChildren(),StopAllAudio(),DialogManager.open(EndView,"EndView",1),EndView.m_UI.group_CurScore.text=this.data.originalScore.toString()},e}();egret.registerClass(GameController,"GameController");var Maps=function(e){function t(){e.call(this),this.init()}__extends(t,e);var i=(__define,t),l=i.prototype;return l.init=function(){this.readMap()},l.readCheckPoint=function(){this.checkPoint_winU=new eui.Image,this.checkPoint_winB=new eui.Image,this.checkPoint_winU.source="win_redflag1",this.checkPoint_winB.source="win_redflag2",this.checkPoint_winU.x=120,this.checkPoint_winB.x=120,1==GameController.getInstance().curLevel?(this.checkPoint_winU.y=this.height-202,this.checkPoint_winB.y=this.height-145):(this.checkPoint_winU.y=this.height-113,this.checkPoint_winB.y=this.height-56,this.checkPoint_winU.visible=!1,this.winSquare_mask=new egret.Shape,this.winSquare_mask.graphics.drawRect(this.checkPoint_winB.x,this.checkPoint_winB.y,this.checkPoint_winB.width,45),this.addChild(this.winSquare_mask),this.checkPoint_winB.mask=this.winSquare_mask),this.addChild(this.checkPoint_winU),this.addChild(this.checkPoint_winB),this.platform_check=new eui.Image,this.platform_check.source="check_platform",this.platform_check.x=50,this.platform_check.y=this.height-124,this.addChild(this.platform_check),this.level_disp=new eui.Label,this.level_disp.bold=!0,this.level_disp.size=40,this.level_disp.textColor=5777428,this.level_disp.x=287,this.level_disp.y=this.height-100,this.level_disp.text=(GameController.getInstance().MaxLevel+1-GameController.getInstance().curLevel).toString(),1==GameController.getInstance().curLevel&&(this.level_disp.x=275),this.addChild(this.level_disp)},l.readFinishPoint=function(){this.checkPoint_win=new eui.Image,this.checkPoint_win.source="win_finishFlag",this.checkPoint_win.x=85,this.checkPoint_win.y=this.height-275,this.addChild(this.checkPoint_win),this.platform_check=new eui.Image,this.platform_check.source="finish_point",this.platform_check.x=50,this.platform_check.y=this.height-124,this.addChild(this.platform_check)},l.displayWinFlag=function(){GameController.getInstance().curLevel==GameController.getInstance().MaxLevel+2?(StopAudio(5),StopAllAudio(),PlayAudio(8,2,!1,!1),this.checkPoint_win.visible=!0,egret.Tween.get(this.checkPoint_win).to({y:this.height-318},1e3).wait(2e3).call(GameController.getInstance().GameOver,GameController.getInstance())):(this.checkPoint_winU.visible=!0,egret.Tween.get(this.checkPoint_winU).to({y:this.height-202},600),egret.Tween.get(this.checkPoint_winB).to({y:this.height-103},300).call(function(){this.removeChild(this.winSquare_mask),this.checkPoint_winB.mask=null},this).to({y:this.height-145},300))},l.readMap=function(){if(GameController.getInstance().curLevel<=GameController.getInstance().MaxLevel+1&&this.removeChildren(),GameController.getInstance().curLevel>=4&&GameController.getInstance().curLevel<=GameController.getInstance().MaxLevel+1){for(var e=0;e<this.mapCells.length;e++)delete this.mapCells[e];delete this.mapCells;for(var e=0;e<this.brickCells.length;e++)delete this.brickCells[e];delete this.brickCells;for(var e=0;e<this.platformCells.length;e++)delete this.platformCells[e];delete this.platformCells;for(var e=0;e<this.carrotCells.length;e++)delete this.carrotCells[e];delete this.carrotCells;for(var e=0;e<this.eatCarrotFlag.length;e++)delete this.eatCarrotFlag[e];delete this.eatCarrotFlag;for(var e=0;e<this.spikeCells.length;e++)delete this.spikeCells[e];delete this.spikeCells;for(var e=0;e<this.reddotCells.length;e++)delete this.reddotCells[e];delete this.reddotCells;for(var e=0;e<this.redRootCells.length;e++)delete this.redRootCells[e];delete this.redRootCells}if(4==GameController.getInstance().curLevel&&(Main.euiLayer.removeChild(GameController.getInstance().groundImage),delete GameController.getInstance().groundImage),GameController.getInstance().curLevel<=GameController.getInstance().MaxLevel){this.randomStage=Math.ceil(3*Math.random()),this.sceneHeight=GameController.getInstance()._stageJson["CheckPoint"+GameController.getInstance().curLevel+"_Stage"+this.randomStage].stage_length,this.height=50*this.sceneHeight,this.width=600,this.anchorOffsetX=this.width/2,this.anchorOffsetY=this.height,this.nowLevel=GameController.getInstance().curLevel,this.mapCells=new Array,this.brickCells=new Array,this.platformCells=new Array,this.carrotCells=new Array,this.eatCarrotFlag=new Array,this.spikeCells=new Array,this.reddotCells=new Array,this.redRootCells=new Array,this.platformLong=new Array;for(var e=0;2>e;e++)this.platformLong[e]=new CellLong,this.platformLong[e].x=300,0==e?this.platformLong[e].y=this.height-75:1==e&&(this.platformLong[e].y=this.height-475),this.addChild(this.platformLong[e]);this.readWall();for(var e=0;e<12*this.sceneHeight;e++){var t=GameController.getInstance()._stageJson["CheckPoint"+GameController.getInstance().curLevel+"_Stage"+this.randomStage].GridType[e];switch(this.mapCells[e]=new Cell(t),this.mapCells[e].x=50*(e%12)+this.mapCells[e].width/2,this.mapCells[e].y=50*Math.floor(e/12)+this.mapCells[e].height/2,0!==t&&this.addChild(this.mapCells[e]),t){case 2:this.brickCells.push(this.mapCells[e]);break;case 3:this.carrotCells.push(this.mapCells[e]),egret.Tween.get(this.mapCells[e].getBg(),{loop:!0}).to({scaleX:1.1,scaleY:1.1},400).to({scaleX:1,scaleY:1},400),this.eatCarrotFlag.push(0);break;case 4:this.platformCells.push(this.mapCells[e]);break;case 5:break;case 6:case 7:case 8:case 9:this.spikeCells.push(this.mapCells[e])}}this.readCheckPoint(),8==GameController.getInstance().curLevel&&(1==this.randomStage?(this.redRootCells[0]=new redDot(redDot_Style.cellStyle_RedRoot),this.redRootCells[0].x=300,this.redRootCells[0].y=1100,this.addChild(this.redRootCells[0]),this.reddotCells[0]=new redDot(redDot_Style.cellStyle_RedDot),this.reddotCells[0].anchorOffsetY=175,this.reddotCells[0].x=300,this.reddotCells[0].y=1100,this.addChild(this.reddotCells[0]),egret.Tween.get(this.reddotCells[0],{loop:!0}).to({rotation:360},6e3),this.reddotCells[1]=new redDot(redDot_Style.cellStyle_RedDot),this.reddotCells[1].anchorOffsetY=125,this.reddotCells[1].x=300,this.reddotCells[1].y=1100,this.addChild(this.reddotCells[1]),egret.Tween.get(this.reddotCells[1],{loop:!0}).to({rotation:360},6e3),this.reddotCells[2]=new redDot(redDot_Style.cellStyle_RedDot),this.reddotCells[2].anchorOffsetY=75,this.reddotCells[2].x=300,this.reddotCells[2].y=1100,this.addChild(this.reddotCells[2]),egret.Tween.get(this.reddotCells[2],{loop:!0}).to({rotation:360},6e3),this.reddotCells[3]=new redDot(redDot_Style.cellStyle_RedDot),this.reddotCells[3].anchorOffsetY=-125,this.reddotCells[3].x=300,this.reddotCells[3].y=1100,this.addChild(this.reddotCells[3]),egret.Tween.get(this.reddotCells[3],{loop:!0}).to({rotation:360},6e3),this.reddotCells[4]=new redDot(redDot_Style.cellStyle_RedDot),this.reddotCells[4].anchorOffsetY=-75,this.reddotCells[4].x=300,this.reddotCells[4].y=1100,this.addChild(this.reddotCells[4]),egret.Tween.get(this.reddotCells[4],{loop:!0}).to({rotation:360},6e3),this.reddotCells[5]=new redDot(redDot_Style.cellStyle_RedDot),this.reddotCells[5].anchorOffsetY=-25,this.reddotCells[5].x=300,this.reddotCells[5].y=1100,this.addChild(this.reddotCells[5]),egret.Tween.get(this.reddotCells[5],{loop:!0}).to({rotation:360},6e3),this.redRootCells[1]=new redDot(redDot_Style.cellStyle_RedRoot),this.redRootCells[1].x=0,this.redRootCells[1].y=150,this.addChild(this.redRootCells[1]),this.reddotCells[6]=new redDot(redDot_Style.cellStyle_RedDot),this.reddotCells[6].anchorOffsetX=75,this.reddotCells[6].x=0,this.reddotCells[6].y=150,this.addChild(this.reddotCells[6]),egret.Tween.get(this.reddotCells[6],{loop:!0}).to({rotation:360},6e3),this.reddotCells[7]=new redDot(redDot_Style.cellStyle_RedDot),this.reddotCells[7].anchorOffsetX=125,this.reddotCells[7].x=0,this.reddotCells[7].y=150,this.addChild(this.reddotCells[7]),egret.Tween.get(this.reddotCells[7],{loop:!0}).to({rotation:360},6e3),this.redRootCells[2]=new redDot(redDot_Style.cellStyle_RedRoot),this.redRootCells[2].x=0,this.redRootCells[2].y=450,this.addChild(this.redRootCells[2]),this.reddotCells[8]=new redDot(redDot_Style.cellStyle_RedDot),this.reddotCells[8].anchorOffsetX=75,this.reddotCells[8].x=0,this.reddotCells[8].y=450,this.addChild(this.reddotCells[8]),egret.Tween.get(this.reddotCells[8],{loop:!0}).to({rotation:360},6e3),this.reddotCells[9]=new redDot(redDot_Style.cellStyle_RedDot),this.reddotCells[9].anchorOffsetX=125,this.reddotCells[9].x=0,this.reddotCells[9].y=450,this.addChild(this.reddotCells[9]),egret.Tween.get(this.reddotCells[9],{loop:!0}).to({rotation:360},6e3),this.redRootCells[3]=new redDot(redDot_Style.cellStyle_RedRoot),this.redRootCells[3].x=600,this.redRootCells[3].y=150,this.addChild(this.redRootCells[3]),this.reddotCells[10]=new redDot(redDot_Style.cellStyle_RedDot),this.reddotCells[10].anchorOffsetX=-75,this.reddotCells[10].x=600,this.reddotCells[10].y=150,this.addChild(this.reddotCells[10]),egret.Tween.get(this.reddotCells[10],{loop:!0}).to({rotation:-360},6e3),this.reddotCells[11]=new redDot(redDot_Style.cellStyle_RedDot),this.reddotCells[11].anchorOffsetX=-25,this.reddotCells[11].x=600,this.reddotCells[11].y=150,this.addChild(this.reddotCells[11]),egret.Tween.get(this.reddotCells[11],{loop:!0}).to({rotation:-360},6e3),this.redRootCells[4]=new redDot(redDot_Style.cellStyle_RedRoot),this.redRootCells[4].x=600,this.redRootCells[4].y=450,this.addChild(this.redRootCells[4]),this.reddotCells[12]=new redDot(redDot_Style.cellStyle_RedDot),this.reddotCells[12].anchorOffsetX=-75,this.reddotCells[12].x=600,this.reddotCells[12].y=450,this.addChild(this.reddotCells[12]),egret.Tween.get(this.reddotCells[12],{loop:!0}).to({rotation:-360},6e3),this.reddotCells[13]=new redDot(redDot_Style.cellStyle_RedDot),this.reddotCells[13].anchorOffsetX=-25,this.reddotCells[13].x=600,this.reddotCells[13].y=450,this.addChild(this.reddotCells[13]),egret.Tween.get(this.reddotCells[13],{loop:!0}).to({rotation:-360},6e3)):2==this.randomStage?(this.redRootCells[0]=new redDot(redDot_Style.cellStyle_RedRoot),this.redRootCells[0].x=300,this.redRootCells[0].y=1100,this.addChild(this.redRootCells[0]),this.reddotCells[0]=new redDot(redDot_Style.cellStyle_RedDot),this.reddotCells[0].anchorOffsetY=175,this.reddotCells[0].x=300,this.reddotCells[0].y=1100,this.addChild(this.reddotCells[0]),egret.Tween.get(this.reddotCells[0],{loop:!0}).to({rotation:360},6e3),this.reddotCells[1]=new redDot(redDot_Style.cellStyle_RedDot),this.reddotCells[1].anchorOffsetY=125,this.reddotCells[1].x=300,this.reddotCells[1].y=1100,this.addChild(this.reddotCells[1]),egret.Tween.get(this.reddotCells[1],{loop:!0}).to({rotation:360},6e3),this.reddotCells[2]=new redDot(redDot_Style.cellStyle_RedDot),this.reddotCells[2].anchorOffsetY=75,this.reddotCells[2].x=300,this.reddotCells[2].y=1100,this.addChild(this.reddotCells[2]),egret.Tween.get(this.reddotCells[2],{loop:!0}).to({rotation:360},6e3),this.reddotCells[3]=new redDot(redDot_Style.cellStyle_RedDot),this.reddotCells[3].anchorOffsetY=-125,this.reddotCells[3].x=300,this.reddotCells[3].y=1100,this.addChild(this.reddotCells[3]),egret.Tween.get(this.reddotCells[3],{loop:!0}).to({rotation:360},6e3),this.reddotCells[4]=new redDot(redDot_Style.cellStyle_RedDot),this.reddotCells[4].anchorOffsetY=-75,this.reddotCells[4].x=300,this.reddotCells[4].y=1100,this.addChild(this.reddotCells[4]),egret.Tween.get(this.reddotCells[4],{loop:!0}).to({rotation:360},6e3),this.reddotCells[5]=new redDot(redDot_Style.cellStyle_RedDot),this.reddotCells[5].anchorOffsetY=-25,this.reddotCells[5].x=300,this.reddotCells[5].y=1100,this.addChild(this.reddotCells[5]),egret.Tween.get(this.reddotCells[5],{loop:!0}).to({rotation:360},6e3),this.redRootCells[1]=new redDot(redDot_Style.cellStyle_RedRoot),this.redRootCells[1].x=300,this.redRootCells[1].y=350,this.addChild(this.redRootCells[1]),this.reddotCells[6]=new redDot(redDot_Style.cellStyle_RedDot),this.reddotCells[6].anchorOffsetY=175,this.reddotCells[6].x=300,this.reddotCells[6].y=350,this.addChild(this.reddotCells[6]),egret.Tween.get(this.reddotCells[6],{loop:!0}).to({rotation:360},6e3),this.reddotCells[7]=new redDot(redDot_Style.cellStyle_RedDot),this.reddotCells[7].anchorOffsetY=125,this.reddotCells[7].x=300,this.reddotCells[7].y=350,this.addChild(this.reddotCells[7]),egret.Tween.get(this.reddotCells[7],{loop:!0}).to({rotation:360},6e3),this.reddotCells[8]=new redDot(redDot_Style.cellStyle_RedDot),this.reddotCells[8].anchorOffsetY=75,this.reddotCells[8].x=300,this.reddotCells[8].y=350,this.addChild(this.reddotCells[8]),egret.Tween.get(this.reddotCells[8],{loop:!0}).to({rotation:360},6e3),this.reddotCells[9]=new redDot(redDot_Style.cellStyle_RedDot),this.reddotCells[9].anchorOffsetY=-125,this.reddotCells[9].x=300,this.reddotCells[9].y=350,this.addChild(this.reddotCells[9]),egret.Tween.get(this.reddotCells[9],{loop:!0}).to({rotation:360},6e3),this.reddotCells[10]=new redDot(redDot_Style.cellStyle_RedDot),this.reddotCells[10].anchorOffsetY=-75,this.reddotCells[10].x=300,this.reddotCells[10].y=350,this.addChild(this.reddotCells[10]),egret.Tween.get(this.reddotCells[10],{loop:!0}).to({rotation:360},6e3),this.reddotCells[11]=new redDot(redDot_Style.cellStyle_RedDot),this.reddotCells[11].anchorOffsetY=-25,this.reddotCells[11].x=300,this.reddotCells[11].y=350,this.addChild(this.reddotCells[11]),egret.Tween.get(this.reddotCells[11],{loop:!0}).to({rotation:360},6e3)):3==this.randomStage&&(this.redRootCells[0]=new redDot(redDot_Style.cellStyle_RedRoot),this.redRootCells[0].x=0,this.redRootCells[0].y=950,this.addChild(this.redRootCells[0]),this.reddotCells[0]=new redDot(redDot_Style.cellStyle_RedDot),this.reddotCells[0].anchorOffsetX=75,this.reddotCells[0].x=0,this.reddotCells[0].y=950,this.addChild(this.reddotCells[0]),egret.Tween.get(this.reddotCells[0],{loop:!0}).to({rotation:360},6e3),this.reddotCells[1]=new redDot(redDot_Style.cellStyle_RedDot),this.reddotCells[1].anchorOffsetX=125,this.reddotCells[1].x=0,this.reddotCells[1].y=950,this.addChild(this.reddotCells[1]),egret.Tween.get(this.reddotCells[1],{loop:!0}).to({rotation:360},6e3),this.redRootCells[1]=new redDot(redDot_Style.cellStyle_RedRoot),this.redRootCells[1].x=0,this.redRootCells[1].y=1250,this.addChild(this.redRootCells[1]),this.reddotCells[2]=new redDot(redDot_Style.cellStyle_RedDot),this.reddotCells[2].anchorOffsetX=75,this.reddotCells[2].x=0,this.reddotCells[2].y=1250,this.addChild(this.reddotCells[2]),egret.Tween.get(this.reddotCells[2],{loop:!0}).to({rotation:360},6e3),this.reddotCells[3]=new redDot(redDot_Style.cellStyle_RedDot),this.reddotCells[3].anchorOffsetX=125,this.reddotCells[3].x=0,this.reddotCells[3].y=1250,this.addChild(this.reddotCells[3]),egret.Tween.get(this.reddotCells[3],{loop:!0}).to({rotation:360},6e3),this.redRootCells[2]=new redDot(redDot_Style.cellStyle_RedRoot),this.redRootCells[2].x=600,this.redRootCells[2].y=950,this.addChild(this.redRootCells[2]),this.reddotCells[4]=new redDot(redDot_Style.cellStyle_RedDot),this.reddotCells[4].anchorOffsetX=-75,this.reddotCells[4].x=600,this.reddotCells[4].y=950,this.addChild(this.reddotCells[4]),egret.Tween.get(this.reddotCells[4],{loop:!0}).to({rotation:-360},6e3),this.reddotCells[5]=new redDot(redDot_Style.cellStyle_RedDot),this.reddotCells[5].anchorOffsetX=-25,this.reddotCells[5].x=600,this.reddotCells[5].y=950,this.addChild(this.reddotCells[5]),egret.Tween.get(this.reddotCells[5],{loop:!0}).to({rotation:-360},6e3),this.redRootCells[3]=new redDot(redDot_Style.cellStyle_RedRoot),this.redRootCells[3].x=600,this.redRootCells[3].y=1250,this.addChild(this.redRootCells[3]),this.reddotCells[6]=new redDot(redDot_Style.cellStyle_RedDot),this.reddotCells[6].anchorOffsetX=-75,this.reddotCells[6].x=600,this.reddotCells[6].y=1250,this.addChild(this.reddotCells[6]),egret.Tween.get(this.reddotCells[6],{loop:!0}).to({rotation:-360},6e3),this.reddotCells[7]=new redDot(redDot_Style.cellStyle_RedDot),this.reddotCells[7].anchorOffsetX=-25,this.reddotCells[7].x=600,this.reddotCells[7].y=1250,this.addChild(this.reddotCells[7]),egret.Tween.get(this.reddotCells[7],{loop:!0}).to({rotation:-360},6e3),this.redRootCells[4]=new redDot(redDot_Style.cellStyle_RedRoot),this.redRootCells[4].x=300,this.redRootCells[4].y=350,this.addChild(this.redRootCells[4]),this.reddotCells[8]=new redDot(redDot_Style.cellStyle_RedDot),this.reddotCells[8].anchorOffsetY=175,this.reddotCells[8].x=300,this.reddotCells[8].y=350,this.addChild(this.reddotCells[8]),egret.Tween.get(this.reddotCells[8],{loop:!0}).to({rotation:360},6e3),this.reddotCells[9]=new redDot(redDot_Style.cellStyle_RedDot),this.reddotCells[9].anchorOffsetY=125,this.reddotCells[9].x=300,this.reddotCells[9].y=350,this.addChild(this.reddotCells[9]),egret.Tween.get(this.reddotCells[9],{loop:!0}).to({rotation:360},6e3),this.reddotCells[10]=new redDot(redDot_Style.cellStyle_RedDot),this.reddotCells[10].anchorOffsetY=75,this.reddotCells[10].x=300,this.reddotCells[10].y=350,this.addChild(this.reddotCells[10]),egret.Tween.get(this.reddotCells[10],{loop:!0}).to({rotation:360},6e3),this.reddotCells[11]=new redDot(redDot_Style.cellStyle_RedDot),this.reddotCells[11].anchorOffsetY=-125,this.reddotCells[11].x=300,this.reddotCells[11].y=350,this.addChild(this.reddotCells[11]),egret.Tween.get(this.reddotCells[11],{loop:!0}).to({rotation:360},6e3),this.reddotCells[12]=new redDot(redDot_Style.cellStyle_RedDot),this.reddotCells[12].anchorOffsetY=-75,this.reddotCells[12].x=300,this.reddotCells[12].y=350,this.addChild(this.reddotCells[12]),egret.Tween.get(this.reddotCells[12],{loop:!0}).to({rotation:360},6e3),this.reddotCells[13]=new redDot(redDot_Style.cellStyle_RedDot),this.reddotCells[13].anchorOffsetY=-25,this.reddotCells[13].x=300,this.reddotCells[13].y=350,this.addChild(this.reddotCells[13]),egret.Tween.get(this.reddotCells[13],{loop:!0}).to({rotation:360},6e3))),9==GameController.getInstance().curLevel&&(1==this.randomStage?(this.redRootCells[0]=new redDot(redDot_Style.cellStyle_RedRoot),this.redRootCells[0].x=150,this.redRootCells[0].y=1300,this.addChild(this.redRootCells[0]),this.reddotCells[0]=new redDot(redDot_Style.cellStyle_RedDot),this.reddotCells[0].anchorOffsetY=-25,this.reddotCells[0].x=150,this.reddotCells[0].y=1300,this.addChild(this.reddotCells[0]),egret.Tween.get(this.reddotCells[0],{loop:!0}).to({rotation:360},6e3),this.reddotCells[1]=new redDot(redDot_Style.cellStyle_RedDot),this.reddotCells[1].anchorOffsetY=-75,this.reddotCells[1].x=150,this.reddotCells[1].y=1300,this.addChild(this.reddotCells[1]),egret.Tween.get(this.reddotCells[1],{loop:!0}).to({rotation:360},6e3),this.redRootCells[1]=new redDot(redDot_Style.cellStyle_RedRoot),this.redRootCells[1].x=300,this.redRootCells[1].y=1300,this.addChild(this.redRootCells[1]),this.reddotCells[2]=new redDot(redDot_Style.cellStyle_RedDot),this.reddotCells[2].anchorOffsetY=-25,this.reddotCells[2].x=300,this.reddotCells[2].y=1300,this.addChild(this.reddotCells[2]),egret.Tween.get(this.reddotCells[2],{loop:!0}).to({rotation:360},6e3),this.reddotCells[3]=new redDot(redDot_Style.cellStyle_RedDot),this.reddotCells[3].anchorOffsetY=-75,this.reddotCells[3].x=300,this.reddotCells[3].y=1300,this.addChild(this.reddotCells[3]),egret.Tween.get(this.reddotCells[3],{loop:!0}).to({rotation:360},6e3),this.redRootCells[2]=new redDot(redDot_Style.cellStyle_RedRoot),this.redRootCells[2].x=200,this.redRootCells[2].y=250,this.addChild(this.redRootCells[2]),this.reddotCells[4]=new redDot(redDot_Style.cellStyle_RedDot),this.reddotCells[4].anchorOffsetY=75,this.reddotCells[4].x=200,this.reddotCells[4].y=250,this.addChild(this.reddotCells[4]),egret.Tween.get(this.reddotCells[4],{loop:!0}).to({rotation:360},6e3),this.reddotCells[5]=new redDot(redDot_Style.cellStyle_RedDot),this.reddotCells[5].anchorOffsetY=125,this.reddotCells[5].x=200,this.reddotCells[5].y=250,this.addChild(this.reddotCells[5]),egret.Tween.get(this.reddotCells[5],{loop:!0}).to({rotation:360},6e3),this.redRootCells[3]=new redDot(redDot_Style.cellStyle_RedRoot),this.redRootCells[3].x=400,this.redRootCells[3].y=250,this.addChild(this.redRootCells[3]),this.reddotCells[6]=new redDot(redDot_Style.cellStyle_RedDot),this.reddotCells[6].anchorOffsetY=75,this.reddotCells[6].x=400,this.reddotCells[6].y=250,this.addChild(this.reddotCells[6]),egret.Tween.get(this.reddotCells[6],{loop:!0}).to({rotation:-360},6e3),this.reddotCells[7]=new redDot(redDot_Style.cellStyle_RedDot),this.reddotCells[7].anchorOffsetY=125,this.reddotCells[7].x=400,this.reddotCells[7].y=250,this.addChild(this.reddotCells[7]),egret.Tween.get(this.reddotCells[7],{loop:!0}).to({rotation:-360},6e3)):2==this.randomStage?(this.redRootCells[0]=new redDot(redDot_Style.cellStyle_RedRoot),this.redRootCells[0].x=200,this.redRootCells[0].y=1400,this.addChild(this.redRootCells[0]),this.reddotCells[0]=new redDot(redDot_Style.cellStyle_RedDot),this.reddotCells[0].anchorOffsetX=-25,this.reddotCells[0].x=200,this.reddotCells[0].y=1400,this.addChild(this.reddotCells[0]),egret.Tween.get(this.reddotCells[0],{loop:!0}).to({rotation:360},6e3),this.reddotCells[1]=new redDot(redDot_Style.cellStyle_RedDot),this.reddotCells[1].anchorOffsetX=-75,this.reddotCells[1].x=200,this.reddotCells[1].y=1400,this.addChild(this.reddotCells[1]),egret.Tween.get(this.reddotCells[1],{loop:!0}).to({rotation:360},6e3),this.redRootCells[1]=new redDot(redDot_Style.cellStyle_RedRoot),this.redRootCells[1].x=0,this.redRootCells[1].y=1500,this.addChild(this.redRootCells[1]),this.reddotCells[2]=new redDot(redDot_Style.cellStyle_RedDot),this.reddotCells[2].anchorOffsetX=-25,this.reddotCells[2].x=0,this.reddotCells[2].y=1500,this.addChild(this.reddotCells[2]),egret.Tween.get(this.reddotCells[2],{loop:!0}).to({rotation:360},6e3),this.reddotCells[3]=new redDot(redDot_Style.cellStyle_RedDot),this.reddotCells[3].anchorOffsetX=-75,this.reddotCells[3].x=0,this.reddotCells[3].y=1500,this.addChild(this.reddotCells[3]),egret.Tween.get(this.reddotCells[3],{loop:!0}).to({rotation:360},6e3),this.redRootCells[2]=new redDot(redDot_Style.cellStyle_RedRoot),this.redRootCells[2].x=200,this.redRootCells[2].y=250,this.addChild(this.redRootCells[2]),this.reddotCells[4]=new redDot(redDot_Style.cellStyle_RedDot),this.reddotCells[4].anchorOffsetY=75,this.reddotCells[4].x=200,this.reddotCells[4].y=250,this.addChild(this.reddotCells[4]),egret.Tween.get(this.reddotCells[4],{loop:!0}).to({rotation:360},6e3),this.reddotCells[5]=new redDot(redDot_Style.cellStyle_RedDot),this.reddotCells[5].anchorOffsetY=125,this.reddotCells[5].x=200,this.reddotCells[5].y=250,this.addChild(this.reddotCells[5]),egret.Tween.get(this.reddotCells[5],{loop:!0}).to({rotation:360},6e3),this.redRootCells[3]=new redDot(redDot_Style.cellStyle_RedRoot),this.redRootCells[3].x=400,this.redRootCells[3].y=250,this.addChild(this.redRootCells[3]),this.reddotCells[6]=new redDot(redDot_Style.cellStyle_RedDot),this.reddotCells[6].anchorOffsetY=75,this.reddotCells[6].x=400,this.reddotCells[6].y=250,this.addChild(this.reddotCells[6]),egret.Tween.get(this.reddotCells[6],{loop:!0}).to({rotation:-360},6e3),this.reddotCells[7]=new redDot(redDot_Style.cellStyle_RedDot),this.reddotCells[7].anchorOffsetY=125,this.reddotCells[7].x=400,this.reddotCells[7].y=250,this.addChild(this.reddotCells[7]),egret.Tween.get(this.reddotCells[7],{loop:!0}).to({rotation:-360},6e3)):3==this.randomStage&&(this.redRootCells[0]=new redDot(redDot_Style.cellStyle_RedRoot),this.redRootCells[0].x=150,this.redRootCells[0].y=250,this.addChild(this.redRootCells[0]),this.reddotCells[0]=new redDot(redDot_Style.cellStyle_RedDot),this.reddotCells[0].anchorOffsetX=-25,this.reddotCells[0].x=150,this.reddotCells[0].y=250,this.addChild(this.reddotCells[0]),egret.Tween.get(this.reddotCells[0],{loop:!0}).to({rotation:360},6e3),this.reddotCells[1]=new redDot(redDot_Style.cellStyle_RedDot),this.reddotCells[1].anchorOffsetX=-75,this.reddotCells[1].x=150,this.reddotCells[1].y=250,this.addChild(this.reddotCells[1]),egret.Tween.get(this.reddotCells[1],{loop:!0}).to({rotation:360},6e3),this.redRootCells[1]=new redDot(redDot_Style.cellStyle_RedRoot),this.redRootCells[1].x=500,this.redRootCells[1].y=300,this.addChild(this.redRootCells[1]),this.reddotCells[2]=new redDot(redDot_Style.cellStyle_RedDot),this.reddotCells[2].anchorOffsetX=-25,this.reddotCells[2].x=500,this.reddotCells[2].y=300,this.addChild(this.reddotCells[2]),egret.Tween.get(this.reddotCells[2],{loop:!0}).to({rotation:360},6e3),this.reddotCells[3]=new redDot(redDot_Style.cellStyle_RedDot),this.reddotCells[3].anchorOffsetX=-75,this.reddotCells[3].x=500,this.reddotCells[3].y=300,this.addChild(this.reddotCells[3]),egret.Tween.get(this.reddotCells[3],{loop:!0}).to({rotation:360},6e3),this.redRootCells[2]=new redDot(redDot_Style.cellStyle_RedRoot),this.redRootCells[2].x=0,this.redRootCells[2].y=550,this.addChild(this.redRootCells[2]),this.reddotCells[4]=new redDot(redDot_Style.cellStyle_RedDot),this.reddotCells[4].anchorOffsetX=-25,this.reddotCells[4].x=0,this.reddotCells[4].y=550,this.addChild(this.reddotCells[4]),egret.Tween.get(this.reddotCells[4],{loop:!0}).to({rotation:360},6e3),this.reddotCells[5]=new redDot(redDot_Style.cellStyle_RedDot),this.reddotCells[5].anchorOffsetX=-75,this.reddotCells[5].x=0,this.reddotCells[5].y=550,this.addChild(this.reddotCells[5]),egret.Tween.get(this.reddotCells[5],{loop:!0}).to({rotation:360},6e3),this.redRootCells[3]=new redDot(redDot_Style.cellStyle_RedRoot),this.redRootCells[3].x=200,this.redRootCells[3].y=1400,this.addChild(this.redRootCells[3]),this.reddotCells[6]=new redDot(redDot_Style.cellStyle_RedDot),this.reddotCells[6].anchorOffsetX=-25,this.reddotCells[6].x=200,this.reddotCells[6].y=1400,this.addChild(this.reddotCells[6]),egret.Tween.get(this.reddotCells[6],{loop:!0}).to({rotation:360},6e3),this.reddotCells[7]=new redDot(redDot_Style.cellStyle_RedDot),this.reddotCells[7].anchorOffsetX=-75,this.reddotCells[7].x=200,this.reddotCells[7].y=1400,this.addChild(this.reddotCells[7]),egret.Tween.get(this.reddotCells[7],{loop:!0}).to({rotation:360},6e3),this.redRootCells[4]=new redDot(redDot_Style.cellStyle_RedRoot),this.redRootCells[4].x=0,this.redRootCells[4].y=1500,this.addChild(this.redRootCells[4]),this.reddotCells[8]=new redDot(redDot_Style.cellStyle_RedDot),this.reddotCells[8].anchorOffsetX=-25,this.reddotCells[8].x=0,this.reddotCells[8].y=1500,this.addChild(this.reddotCells[8]),egret.Tween.get(this.reddotCells[8],{loop:!0}).to({rotation:360},6e3),this.reddotCells[9]=new redDot(redDot_Style.cellStyle_RedDot),this.reddotCells[9].anchorOffsetX=-75,this.reddotCells[9].x=0,this.reddotCells[9].y=1500,this.addChild(this.reddotCells[9]),egret.Tween.get(this.reddotCells[9],{loop:!0}).to({rotation:360},6e3))),10==GameController.getInstance().curLevel&&(1==this.randomStage?(this.redRootCells[0]=new redDot(redDot_Style.cellStyle_RedRoot),this.redRootCells[0].x=250,this.redRootCells[0].y=450,this.addChild(this.redRootCells[0]),this.reddotCells[0]=new redDot(redDot_Style.cellStyle_RedDot),this.reddotCells[0].anchorOffsetY=225,this.reddotCells[0].x=250,this.reddotCells[0].y=450,this.addChild(this.reddotCells[0]),egret.Tween.get(this.reddotCells[0],{loop:!0}).to({rotation:360},6e3),this.reddotCells[1]=new redDot(redDot_Style.cellStyle_RedDot),this.reddotCells[1].anchorOffsetY=175,this.reddotCells[1].x=250,this.reddotCells[1].y=450,this.addChild(this.reddotCells[1]),egret.Tween.get(this.reddotCells[1],{loop:!0}).to({rotation:360},6e3),this.reddotCells[2]=new redDot(redDot_Style.cellStyle_RedDot),this.reddotCells[2].anchorOffsetY=125,this.reddotCells[2].x=250,this.reddotCells[2].y=450,this.addChild(this.reddotCells[2]),egret.Tween.get(this.reddotCells[2],{loop:!0}).to({rotation:360},6e3),this.reddotCells[3]=new redDot(redDot_Style.cellStyle_RedDot),this.reddotCells[3].anchorOffsetY=75,this.reddotCells[3].x=250,this.reddotCells[3].y=450,this.addChild(this.reddotCells[3]),egret.Tween.get(this.reddotCells[3],{loop:!0}).to({rotation:360},6e3),this.reddotCells[4]=new redDot(redDot_Style.cellStyle_RedDot),this.reddotCells[4].anchorOffsetY=-25,this.reddotCells[4].x=250,this.reddotCells[4].y=450,this.addChild(this.reddotCells[4]),egret.Tween.get(this.reddotCells[4],{loop:!0}).to({rotation:360},6e3),this.reddotCells[5]=new redDot(redDot_Style.cellStyle_RedDot),this.reddotCells[5].anchorOffsetY=-75,this.reddotCells[5].x=250,this.reddotCells[5].y=450,this.addChild(this.reddotCells[5]),egret.Tween.get(this.reddotCells[5],{loop:!0}).to({rotation:360},6e3),this.reddotCells[6]=new redDot(redDot_Style.cellStyle_RedDot),this.reddotCells[6].anchorOffsetY=-125,this.reddotCells[6].x=250,this.reddotCells[6].y=450,this.addChild(this.reddotCells[6]),egret.Tween.get(this.reddotCells[6],{loop:!0}).to({rotation:360},6e3),this.reddotCells[7]=new redDot(redDot_Style.cellStyle_RedDot),this.reddotCells[7].anchorOffsetY=-175,this.reddotCells[7].x=250,this.reddotCells[7].y=450,this.addChild(this.reddotCells[7]),egret.Tween.get(this.reddotCells[7],{loop:!0}).to({rotation:360},6e3),this.redRootCells[1]=new redDot(redDot_Style.cellStyle_RedRoot),this.redRootCells[1].x=300,this.redRootCells[1].y=450,this.addChild(this.redRootCells[1]),this.reddotCells[8]=new redDot(redDot_Style.cellStyle_RedDot),this.reddotCells[8].anchorOffsetY=225,this.reddotCells[8].x=300,this.reddotCells[8].y=450,this.addChild(this.reddotCells[8]),egret.Tween.get(this.reddotCells[8],{loop:!0}).to({rotation:360},6e3),this.reddotCells[9]=new redDot(redDot_Style.cellStyle_RedDot),this.reddotCells[9].anchorOffsetY=175,this.reddotCells[9].x=300,this.reddotCells[9].y=450,this.addChild(this.reddotCells[9]),egret.Tween.get(this.reddotCells[9],{loop:!0}).to({rotation:360},6e3),this.reddotCells[10]=new redDot(redDot_Style.cellStyle_RedDot),this.reddotCells[10].anchorOffsetY=125,this.reddotCells[10].x=300,this.reddotCells[10].y=450,this.addChild(this.reddotCells[10]),egret.Tween.get(this.reddotCells[10],{loop:!0}).to({rotation:360},6e3),this.reddotCells[11]=new redDot(redDot_Style.cellStyle_RedDot),this.reddotCells[11].anchorOffsetY=75,this.reddotCells[11].x=300,this.reddotCells[11].y=450,this.addChild(this.reddotCells[11]),egret.Tween.get(this.reddotCells[11],{loop:!0}).to({rotation:360},6e3),this.reddotCells[12]=new redDot(redDot_Style.cellStyle_RedDot),this.reddotCells[12].anchorOffsetY=-25,this.reddotCells[12].x=300,this.reddotCells[12].y=450,this.addChild(this.reddotCells[12]),egret.Tween.get(this.reddotCells[12],{loop:!0}).to({rotation:360},6e3),this.reddotCells[13]=new redDot(redDot_Style.cellStyle_RedDot),this.reddotCells[13].anchorOffsetY=-75,this.reddotCells[13].x=300,this.reddotCells[13].y=450,this.addChild(this.reddotCells[13]),egret.Tween.get(this.reddotCells[13],{loop:!0}).to({rotation:360},6e3),this.reddotCells[14]=new redDot(redDot_Style.cellStyle_RedDot),this.reddotCells[14].anchorOffsetY=-125,this.reddotCells[14].x=300,this.reddotCells[14].y=450,this.addChild(this.reddotCells[14]),egret.Tween.get(this.reddotCells[14],{loop:!0}).to({rotation:360},6e3),this.reddotCells[15]=new redDot(redDot_Style.cellStyle_RedDot),this.reddotCells[15].anchorOffsetY=-175,this.reddotCells[15].x=300,this.reddotCells[15].y=450,this.addChild(this.reddotCells[15]),egret.Tween.get(this.reddotCells[15],{loop:!0}).to({rotation:360},6e3)):(2==this.randomStage||3==this.randomStage)&&(this.redRootCells[0]=new redDot(redDot_Style.cellStyle_RedRoot),this.redRootCells[0].x=100,this.redRootCells[0].y=250,this.addChild(this.redRootCells[0]),this.reddotCells[0]=new redDot(redDot_Style.cellStyle_RedDot),this.reddotCells[0].anchorOffsetY=125,this.reddotCells[0].x=100,this.reddotCells[0].y=250,this.addChild(this.reddotCells[0]),egret.Tween.get(this.reddotCells[0],{loop:!0}).to({rotation:-360},6e3),this.reddotCells[1]=new redDot(redDot_Style.cellStyle_RedDot),this.reddotCells[1].anchorOffsetY=75,this.reddotCells[1].x=100,this.reddotCells[1].y=250,this.addChild(this.reddotCells[1]),egret.Tween.get(this.reddotCells[1],{loop:!0}).to({rotation:-360},6e3),this.redRootCells[1]=new redDot(redDot_Style.cellStyle_RedRoot),this.redRootCells[1].x=250,this.redRootCells[1].y=250,this.addChild(this.redRootCells[1]),this.reddotCells[2]=new redDot(redDot_Style.cellStyle_RedDot),this.reddotCells[2].anchorOffsetY=125,this.reddotCells[2].x=250,this.reddotCells[2].y=250,this.addChild(this.reddotCells[2]),egret.Tween.get(this.reddotCells[2],{loop:!0}).to({rotation:360},6e3),this.reddotCells[3]=new redDot(redDot_Style.cellStyle_RedDot),this.reddotCells[3].anchorOffsetY=75,this.reddotCells[3].x=250,this.reddotCells[3].y=250,this.addChild(this.reddotCells[3]),egret.Tween.get(this.reddotCells[3],{loop:!0}).to({rotation:360},6e3),this.redRootCells[2]=new redDot(redDot_Style.cellStyle_RedRoot),this.redRootCells[2].x=100,this.redRootCells[2].y=650,this.addChild(this.redRootCells[2]),this.reddotCells[4]=new redDot(redDot_Style.cellStyle_RedDot),this.reddotCells[4].anchorOffsetY=125,this.reddotCells[4].x=100,this.reddotCells[4].y=650,this.addChild(this.reddotCells[4]),egret.Tween.get(this.reddotCells[4],{loop:!0}).to({rotation:-360},6e3),this.reddotCells[5]=new redDot(redDot_Style.cellStyle_RedDot),this.reddotCells[5].anchorOffsetY=75,this.reddotCells[5].x=100,this.reddotCells[5].y=650,this.addChild(this.reddotCells[5]),egret.Tween.get(this.reddotCells[5],{loop:!0}).to({rotation:-360},6e3),this.redRootCells[3]=new redDot(redDot_Style.cellStyle_RedRoot),this.redRootCells[3].x=250,this.redRootCells[3].y=650,this.addChild(this.redRootCells[3]),this.reddotCells[6]=new redDot(redDot_Style.cellStyle_RedDot),this.reddotCells[6].anchorOffsetY=125,this.reddotCells[6].x=250,this.reddotCells[6].y=650,this.addChild(this.reddotCells[6]),egret.Tween.get(this.reddotCells[6],{loop:!0}).to({rotation:360},6e3),this.reddotCells[7]=new redDot(redDot_Style.cellStyle_RedDot),this.reddotCells[7].anchorOffsetY=75,this.reddotCells[7].x=250,this.reddotCells[7].y=650,this.addChild(this.reddotCells[7]),egret.Tween.get(this.reddotCells[7],{loop:!0}).to({rotation:360},6e3)))
}else if(GameController.getInstance().curLevel==GameController.getInstance().MaxLevel+1){this.sceneHeight=GameController.getInstance()._stageJson.AllFinish.stage_length,this.height=50*this.sceneHeight,this.width=600,this.anchorOffsetX=this.width/2,this.anchorOffsetY=this.height,this.nowLevel=GameController.getInstance().curLevel,this.mapCells=new Array,this.platformCells=new Array,this.brickCells=new Array,this.carrotCells=new Array,this.eatCarrotFlag=new Array,this.spikeCells=new Array,this.reddotCells=new Array,this.platformLong=new Array,this.platformLong[0]=new CellLong,this.platformLong[0].x=300,this.platformLong[0].y=this.height-75,this.addChild(this.platformLong[0]);for(var e=0;e<12*this.sceneHeight;e++){var t=GameController.getInstance()._stageJson.AllFinish.GridType[e];switch(this.mapCells[e]=new Cell(t),this.mapCells[e].x=50*(e%12)+this.mapCells[e].width/2,this.mapCells[e].y=50*Math.floor(e/12)+this.mapCells[e].height/2,0!==t&&this.addChild(this.mapCells[e]),t){case 2:this.brickCells.push(this.mapCells[e]);break;case 3:this.carrotCells.push(this.mapCells[e]),this.eatCarrotFlag.push(0);break;case 4:this.platformCells.push(this.mapCells[e]);break;case 5:break;case 6:case 7:case 8:case 9:this.spikeCells.push(this.mapCells[e])}}this.readWall(),this.readFinishPoint()}else GameController.getInstance().curLevel==GameController.getInstance().MaxLevel+2&&GameController.getInstance().removeTouchEvent()},l.readWall=function(){this.leftWallCells=new Array,this.rightWallCells=new Array;var e=0;do this.leftWallCells[e]=new eui.Image,this.leftWallCells[e].source="pic_wall",this.leftWallCells[e].width=20,this.leftWallCells[e].height=845,this.leftWallCells[e].anchorOffsetX=this.leftWallCells[e].width/2,this.leftWallCells[e].anchorOffsetY=this.leftWallCells[e].height,this.leftWallCells[e].x=-10,this.rightWallCells[e]=new eui.Image,this.rightWallCells[e].source="pic_wall",this.rightWallCells[e].width=20,this.rightWallCells[e].height=845,this.rightWallCells[e].anchorOffsetX=this.rightWallCells[e].width/2,this.rightWallCells[e].anchorOffsetY=this.rightWallCells[e].height,this.rightWallCells[e].x=610,1==GameController.getInstance().curLevel?(this.leftWallCells[e].y=this.height+240-e*this.leftWallCells[e].height,this.rightWallCells[e].y=this.height+240-e*this.rightWallCells[e].height):(this.leftWallCells[e].y=this.height-e*this.leftWallCells[e].height,this.rightWallCells[e].y=this.height-e*this.rightWallCells[e].height),this.addChild(this.leftWallCells[e]),this.addChild(this.rightWallCells[e]),e++;while(this.rightWallCells[e-1].y>0)},t}(eui.Group);egret.registerClass(Maps,"Maps");var playState;!function(e){e[e.state_idle=0]="state_idle",e[e.state_jump=1]="state_jump",e[e.state_twiceJump=2]="state_twiceJump",e[e.state_fall=3]="state_fall",e[e.state_slide=4]="state_slide",e[e.state_dead=5]="state_dead"}(playState||(playState={}));var Player=function(e){function t(){e.call(this),this.playerPosition=new egret.Point,this.init()}__extends(t,e);var i=(__define,t),l=i.prototype;return l.init=function(){this.width=50,this.height=100,this.anchorOffsetX=this.width/2,this.anchorOffsetY=this.height/2,this.playerMoveEffectImage=new eui.Image,this.playerMoveEffectImage.source="slide1",this.playerMoveEffectImage.width=50,this.playerMoveEffectImage.height=120,this.playerMoveEffectImage.anchorOffsetX=this.playerMoveEffectImage.width/2,this.playerMoveEffectImage.anchorOffsetY=this.playerMoveEffectImage.height/2,this.playerMoveEffectImage.x=30,this.playerMoveEffectImage.y=-30,this.playerMoveEffectImage.visible=!1,this.addChild(this.playerMoveEffectImage),this.runAnimation=new PlayerAnimationX("runActor_Json","runActor_Image",-1),this.runAnimation.x=35,this.runAnimation.y=35,this.runAnimation.visible=!0,this.runAnimation.scaleX=this.runAnimation.scaleY=1.2,this.addChild(this.runAnimation),this.slideAnimation=new PlayerAnimationX("slideActor_Json","slideActor_Image",-1),this.slideAnimation.x=this.anchorOffsetX,this.slideAnimation.y=45,this.slideAnimation.visible=!1,this.addChild(this.slideAnimation),this.playerFallImage=new eui.Image,this.playerFallImage.source="fallActor1",this.playerFallImage.width=69,this.playerFallImage.height=126,this.playerFallImage.anchorOffsetX=this.playerFallImage.width/2,this.playerFallImage.anchorOffsetY=this.playerFallImage.height/2,this.playerFallImage.x=30,this.playerFallImage.y=45,this.playerFallImage.visible=!1,this.addChild(this.playerFallImage),this.playerDeadImage=new eui.Image,this.playerDeadImage.source="deadActor",this.playerDeadImage.width=84,this.playerDeadImage.height=127,this.playerDeadImage.anchorOffsetX=this.playerDeadImage.width/2,this.playerDeadImage.anchorOffsetY=this.playerDeadImage.height/2,this.playerDeadImage.x=15,this.playerDeadImage.y=40,this.playerDeadImage.visible=!1,this.addChild(this.playerDeadImage),this.playerJumpImage=new eui.Image,this.playerJumpImage.source="jumpActor1",this.playerJumpImage.width=67,this.playerJumpImage.height=126,this.playerJumpImage.anchorOffsetX=this.playerJumpImage.width/2,this.playerJumpImage.anchorOffsetY=this.playerJumpImage.height/2,this.playerJumpImage.x=30,this.playerJumpImage.y=40,this.playerJumpImage.visible=!1,this.addChild(this.playerJumpImage),this.playerTwiceJump=new eui.Image,this.playerTwiceJump.source="twiceJump",this.playerTwiceJump.width=70,this.playerTwiceJump.height=70,this.playerTwiceJump.anchorOffsetX=this.playerTwiceJump.width/2,this.playerTwiceJump.anchorOffsetY=this.playerTwiceJump.height/2,this.playerTwiceJump.x=25,this.playerTwiceJump.y=30,this.playerTwiceJump.visible=!1,this.addChild(this.playerTwiceJump),this.moveEffectCounter=0,this.myState=playState.state_idle,this.playerLastState=this.myState,this.speedX=400,this.speedYOriginal=1e3,this.speedY=this.speedYOriginal,this.speedYAccelerate=2500,this.slideSpeed=200,this.directionX=1,this.distanceY=0,this.directionY=-1,this.jumpStage=0,this.playerLife=10,this.addMyTimeListener()},l.addMyTimeListener=function(){this.myTimer=new egret.Timer(25,0),this.myTimer.addEventListener(egret.TimerEvent.TIMER,this.playerFrameHandler,this),this.myTimer.start()},l.getGlobalPoint=function(){return this.playerPosition=this.parent.localToGlobal(this.x,this.y),this.playerPosition},l.printPlayerState=function(){switch(this.myState){case 0:console.log("player state:","state_idle");break;case 1:console.log("player state:","state_jump");break;case 2:console.log("player state:","state_twiceJump");break;case 3:console.log("player state:","state_fall");break;case 4:console.log("player state:","state_slide")}},l.playerFrameHandler=function(){switch(this.playerLastY=this.y,this.slideEffectDisplay(),this.carrotCollision(),this.reddotCollision(),this.spikeCollision(),this.myState){case playState.state_idle:if(this.moveEffectCounter%5==0){var e=new effectAnimation("runEffect_Json","runEffect_Image"),t=this.getGlobalPoint(),i=this.parent.globalToLocal(t.x,t.y);e.width=25,e.height=25,e.anchorOffsetX=this.width/2,e.anchorOffsetY=this.height/2,e.mc.anchorOffsetX=e.mc.width,e.mc.anchorOffsetY=e.mc.height,e.mc.x=e.width,e.mc.y=e.height,-1==this.directionX?(e.scaleX=-1,e.x=i.x+5):1==this.directionX&&(e.scaleX=1,e.x=i.x-5),e.y=i.y+72,e.visible=!0,GameController.getInstance().myMap.addChild(e),e.mc.play(1)}this.moveEffectCounter++,this.idleCollision();break;case playState.state_jump:case playState.state_twiceJump:this.jumpCollision();break;case playState.state_slide:this.slideCollision();break;case playState.state_fall:this.fallCollision()}},l.slideEffectDisplay=function(){this.myState==playState.state_slide&&(-1==this.directionX?(this.playerMoveEffectImage.scaleX=-1,this.playerMoveEffectImage.x=20):1==this.directionX&&(this.playerMoveEffectImage.scaleX=1,this.playerMoveEffectImage.x=30),30==this.moveEffectCounter&&(this.moveEffectCounter=18),this.moveEffectCounter%3==0&&(this.playerMoveEffectImage.source="slide"+(this.moveEffectCounter/3+1).toString())),this.moveEffectCounter++},l.idleCollision=function(){var e=!1;this.x>=575?(this.x=575,this.setPlayerDirX(-1)):this.x<=25&&(this.x=25,this.setPlayerDirX(1)),this.x+=this.directionX*this.speedX/40;for(var t=0;t<GameController.getInstance().myMap.brickCells.length;t++)if(this.hitTest(GameController.getInstance().myMap.brickCells[t],this))if(GameController.getInstance().myMap.brickCells[t].y<this.y+50&&GameController.getInstance().myMap.brickCells[t].y>this.y-50){if(-1==this.directionX)return this.setPlayerDirX(1),this.x=GameController.getInstance().myMap.brickCells[t].x+50,void(this.x+=this.directionX*this.speedX/40);if(1==this.directionX)return this.setPlayerDirX(-1),this.x=GameController.getInstance().myMap.brickCells[t].x-50,void(this.x+=this.directionX*this.speedX/40)}else if(GameController.getInstance().myMap.brickCells[t].y>this.y){e=!0;break}for(var t=0;t<GameController.getInstance().myMap.platformLong.length;t++)if(this.hitTest(GameController.getInstance().myMap.platformLong[t],this)){e=!0;break}for(var t=0;t<GameController.getInstance().myMap.platformCells.length;t++)if(this.hitTest(GameController.getInstance().myMap.platformCells[t],this)&&GameController.getInstance().myMap.platformCells[t].y>this.y){e=!0;break}return 0==e?(this.speedY=0,void this.changeState(playState.state_fall)):void 0},l.slideCollision=function(){var e=!1;this.y+=this.directionY*this.slideSpeed/40;for(var t=0;t<GameController.getInstance().myMap.platformLong.length;t++)if(this.hitTest(GameController.getInstance().myMap.platformLong[t],this)&&GameController.getInstance().myMap.platformLong[t].y>this.y+50&&GameController.getInstance().myMap.platformLong[t].y<=this.y+75)return this.y=GameController.getInstance().myMap.platformLong[t].y-75,void this.changeState(playState.state_idle);for(var t=0;t<GameController.getInstance().myMap.platformCells.length;t++)if(this.hitTest(GameController.getInstance().myMap.platformCells[t],this)&&GameController.getInstance().myMap.platformCells[t].y>this.y+50&&GameController.getInstance().myMap.platformCells[t].y<=this.y+75)return this.y=GameController.getInstance().myMap.platformCells[t].y-75,void this.changeState(playState.state_idle);for(var t=0;t<GameController.getInstance().myMap.brickCells.length;t++)if(this.hitTest(GameController.getInstance().myMap.brickCells[t],this)){if(e=!0,t<GameController.getInstance().myMap.brickCells.length-1)if(-1==this.directionX){for(var i=t+1;i<GameController.getInstance().myMap.brickCells.length;i++)if(GameController.getInstance().myMap.brickCells[t].x+50==GameController.getInstance().myMap.brickCells[i].x&&(GameController.getInstance().myMap.brickCells[t].y+50==GameController.getInstance().myMap.brickCells[i].y||GameController.getInstance().myMap.brickCells[t].y+100==GameController.getInstance().myMap.brickCells[i].y)&&this.hitTest(GameController.getInstance().myMap.brickCells[i],this))return this.x=GameController.getInstance().myMap.brickCells[t].x+50,this.y=GameController.getInstance().myMap.brickCells[i].y-75,void this.changeState(playState.state_idle)}else if(1==this.directionX)for(var l=t+1;l<GameController.getInstance().myMap.brickCells.length;l++)if(GameController.getInstance().myMap.brickCells[t].x-50==GameController.getInstance().myMap.brickCells[l].x&&(GameController.getInstance().myMap.brickCells[t].y+50==GameController.getInstance().myMap.brickCells[l].y||GameController.getInstance().myMap.brickCells[t].y+100==GameController.getInstance().myMap.brickCells[l].y)&&this.hitTest(GameController.getInstance().myMap.brickCells[l],this))return this.x=GameController.getInstance().myMap.brickCells[t].x-50,this.y=GameController.getInstance().myMap.brickCells[l].y-75,void this.changeState(playState.state_idle);if(-1==this.directionX)for(var i=0;i<GameController.getInstance().myMap.platformCells.length;i++)if(GameController.getInstance().myMap.brickCells[t].x+50==GameController.getInstance().myMap.platformCells[i].x&&(GameController.getInstance().myMap.brickCells[t].y+50==GameController.getInstance().myMap.platformCells[i].y||GameController.getInstance().myMap.brickCells[t].y+100==GameController.getInstance().myMap.platformCells[i].y)&&this.hitTest(GameController.getInstance().myMap.platformCells[i],this))return this.x=GameController.getInstance().myMap.brickCells[t].x+50,this.y=GameController.getInstance().myMap.platformCells[i].y-75,void this.changeState(playState.state_idle);if(1==this.directionX)for(var l=0;l<GameController.getInstance().myMap.platformCells.length;l++)if(GameController.getInstance().myMap.brickCells[t].x-50==GameController.getInstance().myMap.platformCells[l].x&&(GameController.getInstance().myMap.brickCells[t].y+50==GameController.getInstance().myMap.platformCells[l].y||GameController.getInstance().myMap.brickCells[t].y+100==GameController.getInstance().myMap.platformCells[l].y)&&this.hitTest(GameController.getInstance().myMap.platformCells[l],this))return this.x=GameController.getInstance().myMap.brickCells[t].x-50,this.y=GameController.getInstance().myMap.platformCells[l].y-75,void this.changeState(playState.state_idle)}if(this.x>=575||this.x<=25){e=!0;for(var t=0;t<GameController.getInstance().myMap.brickCells.length;t++)if(this.hitTest(GameController.getInstance().myMap.brickCells[t],this)&&GameController.getInstance().myMap.brickCells[t].y>this.y+50&&GameController.getInstance().myMap.brickCells[t].y<=this.y+75)return this.y=GameController.getInstance().myMap.brickCells[t].y-75,void this.changeState(playState.state_idle)}0==e&&(this.speedY=0,this.changeState(playState.state_fall))},l.fallCollision=function(){var e;e=this.speedY/40+this.directionY*this.speedYAccelerate/1600*.5,this.distanceY+=e,this.y+=e,this.speedY=this.speedY+this.directionY*this.speedYAccelerate/40,this.speedY>60&&this.speedY<120?this.playerFallImage.source="fallActor2":this.speedY>120&&(this.playerFallImage.source="fallActor3"),this.x>=575?(this.x=576,this.changeState(playState.state_slide)):this.x<=25?(this.x=24,this.changeState(playState.state_slide)):this.playerLastState!==playState.state_slide&&(this.x+=this.directionX*this.speedX/40);for(var t=0;t<GameController.getInstance().myMap.platformLong.length;t++)if(this.hitTest(GameController.getInstance().myMap.platformLong[t],this)&&GameController.getInstance().myMap.platformLong[t].y-25>this.y)return this.y=GameController.getInstance().myMap.platformLong[t].y-75,void this.changeState(playState.state_idle);for(var t=0;t<GameController.getInstance().myMap.platformCells.length;t++)if(this.hitTest(GameController.getInstance().myMap.platformCells[t],this)&&GameController.getInstance().myMap.platformCells[t].y-40>this.y)return this.y=GameController.getInstance().myMap.platformCells[t].y-75,void this.changeState(playState.state_idle);for(var t=0;t<GameController.getInstance().myMap.brickCells.length;t++)if(this.hitTest(GameController.getInstance().myMap.brickCells[t],this)){if(GameController.getInstance().myMap.brickCells[t].y-40>this.y)return this.y=GameController.getInstance().myMap.brickCells[t].y-75,void this.changeState(playState.state_idle);if(t<GameController.getInstance().myMap.brickCells.length-1){if(-1==this.directionX){for(var i=t+1;i<GameController.getInstance().myMap.brickCells.length;i++)if((GameController.getInstance().myMap.brickCells[t].x+50==GameController.getInstance().myMap.brickCells[i].x&&GameController.getInstance().myMap.brickCells[t].y+50==GameController.getInstance().myMap.brickCells[i].y||GameController.getInstance().myMap.brickCells[t].y+100==GameController.getInstance().myMap.brickCells[i].y)&&this.hitTest(GameController.getInstance().myMap.brickCells[i],this))return this.x=GameController.getInstance().myMap.brickCells[t].x+49,this.y=GameController.getInstance().myMap.brickCells[i].y-75,void this.changeState(playState.state_slide)}else if(1==this.directionX)for(var l=t+1;l<GameController.getInstance().myMap.brickCells.length;l++)if((GameController.getInstance().myMap.brickCells[t].x-50==GameController.getInstance().myMap.brickCells[l].x&&GameController.getInstance().myMap.brickCells[t].y+50==GameController.getInstance().myMap.brickCells[l].y||GameController.getInstance().myMap.brickCells[t].y+100==GameController.getInstance().myMap.brickCells[l].y)&&this.hitTest(GameController.getInstance().myMap.brickCells[l],this))return this.x=GameController.getInstance().myMap.brickCells[t].x-49,this.y=GameController.getInstance().myMap.brickCells[l].y-75,void this.changeState(playState.state_slide);return-1==this.directionX?this.x=GameController.getInstance().myMap.brickCells[t].x+49:1==this.directionX&&(this.x=GameController.getInstance().myMap.brickCells[t].x-49),void this.changeState(playState.state_slide)}return-1==this.directionX?this.x=GameController.getInstance().myMap.brickCells[t].x+49:1==this.directionX&&(this.x=GameController.getInstance().myMap.brickCells[t].x-49),void this.changeState(playState.state_slide)}},l.jumpCollision=function(){var e;if(e=this.speedY/40+this.directionY*this.speedYAccelerate/1600*.5,this.y-=e,this.distanceY+=e,this.speedY=this.speedY+this.directionY*this.speedYAccelerate/40,this.distanceY<80&&this.distanceY>40?this.playerJumpImage.source="jumpActor2":this.distanceY<120?this.playerJumpImage.source="jumpActor3":this.distanceY<160?this.playerJumpImage.source="jumpActor4":this.distanceY<199&&(this.playerJumpImage.source="jumpActor5"),this.x>=575)return this.x=576,void this.changeState(playState.state_slide);if(this.x<=25)return this.x=24,void this.changeState(playState.state_slide);this.x+=this.directionX*this.speedX/40;for(var t=0;t<GameController.getInstance().myMap.platformLong.length;t++)if(this.hitTest(GameController.getInstance().myMap.platformLong[t],this)&&GameController.getInstance().myMap.platformLong[t].y>this.y+50&&GameController.getInstance().myMap.platformLong[t].y<=this.y+75)return this.y=GameController.getInstance().myMap.platformLong[t].y-75,void this.changeState(playState.state_idle);for(var t=0;t<GameController.getInstance().myMap.platformCells.length;t++)if(this.hitTest(GameController.getInstance().myMap.platformCells[t],this)&&GameController.getInstance().myMap.platformCells[t].y>this.y+40&&GameController.getInstance().myMap.platformCells[t].y<=this.y+75)return this.y=GameController.getInstance().myMap.platformCells[t].y-75,void this.changeState(playState.state_idle);for(var t=0;t<GameController.getInstance().myMap.brickCells.length;t++)if(this.hitTest(GameController.getInstance().myMap.brickCells[t],this)){if(GameController.getInstance().myMap.brickCells[t].y+40<=this.y){if(t==GameController.getInstance().myMap.brickCells.length-1)return this.y=GameController.getInstance().myMap.brickCells[t].y+76,void this.changeState(playState.state_fall);for(var i=t+1;i<GameController.getInstance().myMap.brickCells.length;i++)if(GameController.getInstance().myMap.brickCells[t].x==GameController.getInstance().myMap.brickCells[i].x&&GameController.getInstance().myMap.brickCells[t].y+50==GameController.getInstance().myMap.brickCells[i].y)return-1==this.directionX?this.x=GameController.getInstance().myMap.brickCells[t].x+49:1==this.directionX&&(this.x=GameController.getInstance().myMap.brickCells[t].x-49),void this.changeState(playState.state_slide);return this.y=GameController.getInstance().myMap.brickCells[t].y+76,void this.changeState(playState.state_fall)}return GameController.getInstance().myMap.brickCells[t].y>this.y+50&&GameController.getInstance().myMap.brickCells[t].y<=this.y+75?(this.y=GameController.getInstance().myMap.brickCells[t].y-75,void this.changeState(playState.state_idle)):(-1==this.directionX?this.x=GameController.getInstance().myMap.brickCells[t].x+49:1==this.directionX&&(this.x=GameController.getInstance().myMap.brickCells[t].x-49),void this.changeState(playState.state_slide))}return this.distanceY>=199?(this.speedY=0,void this.changeState(playState.state_fall)):void 0},l.changeState=function(e){switch(this.playerLastState=this.myState,this.myState=e,this.distanceY=0,this.moveEffectCounter=0,e!=playState.state_idle&&StopAudio(5),this.myState==playState.state_slide?this.playerMoveEffectImage.visible=!0:this.playerMoveEffectImage.visible=!1,e){case playState.state_idle:PlayAudio(5,1,!0,!1),this.playerFallImage.visible=!1,this.playerDeadImage.visible=!1,this.playerJumpImage.visible=!1,this.playerTwiceJump.visible=!1,this.slideAnimation.visible=!1,this.runAnimation.visible=!0,this.jumpStage=0;break;case playState.state_jump:PlayAudio(3,3,!1,!1),this.playerJumpImage.source="jumpActor1",this.playerJumpImage.visible=!0,this.playerFallImage.visible=!1,this.playerDeadImage.visible=!1,this.playerTwiceJump.visible=!1,this.slideAnimation.visible=!1,this.runAnimation.visible=!1,this.directionY=-1,this.speedY=this.speedYOriginal,this.jumpStage=1;var t=new effectAnimation("jumpEffect_Json","jumpEffect_Image"),i=this.getGlobalPoint(),l=this.parent.globalToLocal(i.x,i.y);-1==this.directionX?(t.scaleX=-1,t.x=l.x+80):1==this.directionX&&(t.scaleX=1,t.x=l.x-80),t.y=l.y-40,t.visible=!0,GameController.getInstance().myMap.addChild(t),t.mc.play(1);break;case playState.state_twiceJump:PlayAudio(7,3,!1,!1),this.playerFallImage.visible=!1,this.playerDeadImage.visible=!1,this.playerJumpImage.visible=!1,this.playerTwiceJump.visible=!0,this.slideAnimation.visible=!1,this.runAnimation.visible=!1,-1==this.directionX?(egret.Tween.removeTweens(this.playerTwiceJump),this.playerTwiceJump.rotation=0,egret.Tween.get(this.playerTwiceJump,{loop:!0}).to({rotation:-360},500)):1==this.directionX&&(egret.Tween.removeTweens(this.playerTwiceJump),this.playerTwiceJump.rotation=0,egret.Tween.get(this.playerTwiceJump,{loop:!0}).to({rotation:360},500)),this.directionY=-1,this.speedY=this.speedYOriginal,this.jumpStage=2;var s=new effectAnimation("twiceEffect_Json","twiceEffect_Image");s.width=120,s.height=60,s.anchorOffsetX=this.width/2,s.anchorOffsetY=this.height/2,s.mc.anchorOffsetX=s.mc.width,s.mc.anchorOffsetY=s.mc.height,s.mc.x=s.width,s.mc.y=s.height;var i=this.getGlobalPoint(),l=this.parent.globalToLocal(i.x,i.y);-1==this.directionX?(s.scaleX=-1,s.x=l.x+130):1==this.directionX&&(s.scaleX=1,s.x=l.x-130),s.y=l.y+5,s.visible=!0,GameController.getInstance().myMap.addChild(s),s.mc.play(1);break;case playState.state_slide:this.playerFallImage.visible=!1,this.playerDeadImage.visible=!1,this.playerJumpImage.visible=!1,this.playerTwiceJump.visible=!1,this.slideAnimation.visible=!0,this.runAnimation.visible=!1,this.directionY=1,this.jumpStage=0,this.playerMoveEffectImage.source="slide1",this.playerMoveEffectImage.width=50,this.playerMoveEffectImage.height=120,this.playerMoveEffectImage.anchorOffsetX=this.playerMoveEffectImage.width/2,this.playerMoveEffectImage.anchorOffsetY=this.playerMoveEffectImage.height/2,-1==this.directionX?(this.playerMoveEffectImage.scaleX=-1,this.playerMoveEffectImage.x=20):1==this.directionX&&(this.playerMoveEffectImage.scaleX=1,this.playerMoveEffectImage.x=30),this.playerMoveEffectImage.y=-30;break;case playState.state_fall:this.playerFallImage.source="fallActor1",this.playerFallImage.visible=!0,this.playerDeadImage.visible=!1,this.playerJumpImage.visible=!1,this.playerTwiceJump.visible=!1,this.slideAnimation.visible=!1,this.runAnimation.visible=!1,this.directionY=1;break;case playState.state_dead:StopAudio(5),StopAllAudio(),PlayAudio(1,2,!1,!1),this.playerFallImage.visible=!1,this.playerDeadImage.visible=!0,this.playerJumpImage.visible=!1,this.playerTwiceJump.visible=!1,this.slideAnimation.visible=!1,this.runAnimation.visible=!1,egret.Tween.get(this.playerDeadImage).to({alpha:.3},250).to({alpha:1},250).to({alpha:.3},250).to({alpha:1},200);var o=new effectAnimation("deadEffect_Json","deadEffect_Image"),i=this.getGlobalPoint(),l=this.parent.globalToLocal(i.x,i.y);-1==this.directionX?(o.scaleX=-1,o.x=l.x+40):1==this.directionX&&(o.scaleX=1,o.x=l.x-40),o.y=l.y-55,o.visible=!0,GameController.getInstance().myMap.addChild(o),GameController.getInstance().myMap.addChild(this),o.mc.play(1)}},l.spikeCollision=function(){for(var e=0;e<GameController.getInstance().myMap.spikeCells.length;e++)if(this.hitTestSpike(GameController.getInstance().myMap.spikeCells[e],this,GameController.getInstance().myMap.spikeCells[e].getBg().rotation))return void this.playerDead()},l.reddotCollision=function(){for(var e=0;e<GameController.getInstance().myMap.reddotCells.length;e++)if(this.hitTestRed(GameController.getInstance().myMap.reddotCells[e].getBg(),this))return void this.playerDead()},l.carrotCollision=function(){for(var e=0;e<GameController.getInstance().myMap.carrotCells.length;e++)this.hitTest(GameController.getInstance().myMap.carrotCells[e],this)&&1==GameController.getInstance().myMap.carrotCells[e].bg.visible&&(GameController.getInstance().myMap.carrotCells[e].bg.visible=!0,GameController.getInstance().myMap.carrotCells[e].bg.visible=!1,GameController.getInstance().myMap.carrotCells[e].eatEffect.visible=!0,GameController.getInstance().myMap.carrotCells[e].eatEffect.mc.play(1),0==GameController.getInstance().myMap.eatCarrotFlag[e]&&(PlayAudio(2,3,!1,!1),GameController.getInstance().data.originalScore+=30,GameView.m_UI.myPlayerScore.text=GameController.getInstance().data.originalScore.toString(),GameController.getInstance().myMap.eatCarrotFlag[e]=1))},l.setPlayerDirX=function(e){this.directionX=e,this.setPlayerRotation(),this.moveEffectCounter=0},l.getPlayerDirX=function(){return this.directionX},l.setPlayerRotation=function(){-1==this.directionX?(this.runAnimation.scaleX=-1.2,this.runAnimation.scaleY=1.2,this.runAnimation.x=15,this.slideAnimation.scaleX=-1,this.playerFallImage.scaleX=-1,this.playerFallImage.x=15,this.playerDeadImage.scaleX=-1,this.playerDeadImage.x=35,this.playerJumpImage.scaleX=-1,this.playerJumpImage.x=18,this.playerTwiceJump.scaleX=-1):(this.runAnimation.scaleX=this.runAnimation.scaleY=1.2,this.runAnimation.x=35,this.slideAnimation.scaleX=1,this.playerFallImage.scaleX=1,this.playerFallImage.x=30,this.playerDeadImage.scaleX=1,this.playerDeadImage.x=15,this.playerJumpImage.scaleX=1,this.playerJumpImage.x=30,this.playerTwiceJump.scaleX=1)},l.getJumpStage=function(){return this.jumpStage},l.getSpeedY=function(){return this.speedY},l.getDirectionY=function(){return this.directionY},l.getPlayerState=function(){return this.myState},l.getSlideSpeed=function(){return this.slideSpeed},l.playerDead=function(){this.changeState(playState.state_dead),this.removePlayerFrameHandle(),GameController.getInstance().removeGameEvent(),egret.setTimeout(function(){return this.playerLife--,this.playerLife>0?(this.playerRelive(),GameController.getInstance().recoverGame(),void(GameView.m_UI.life_num.text=this.playerLife.toString())):void GameController.getInstance().GameOver()},this,1e3)},l.playerRelive=function(){StopAllAudio(),PlayAudio(0,.2,!0,!1),this.playerLastState=playState.state_idle,this.changeState(playState.state_idle),this.recoverPlayerFrameHandle()},l.removePlayerFrameHandle=function(){this.myTimer.stop(),this.myTimer.removeEventListener(egret.TimerEvent.TIMER,this.playerFrameHandler,this),delete this.myTimer},l.recoverPlayerFrameHandle=function(){this.addMyTimeListener()},l.hitTest=function(e,t){var i=e.parent.localToGlobal(e.x,e.y),l=t.parent.localToGlobal(t.x,t.y),s=new egret.Rectangle(i.x-e.width/2,i.y-e.height/2,e.width,e.height),o=new egret.Rectangle(l.x-t.width/2,l.y-t.height/2,t.width,t.height);return s.intersects(o)},l.hitTestSpike=function(e,t,i){var l,s=e.parent.localToGlobal(e.x,e.y),o=t.parent.localToGlobal(t.x,t.y),r=new egret.Rectangle(o.x-t.width/2,o.y-t.height/2,t.width,t.height);return 0==i?l=new egret.Rectangle(s.x-10,s.y-10,20,15):90==i?l=new egret.Rectangle(s.x-10,s.y-10,15,20):180==i?l=new egret.Rectangle(s.x-10,s.y-10,20,15):-90==i&&(l=new egret.Rectangle(s.x-10,s.y-10,15,20)),l.intersects(r)},l.hitTestRed=function(e,t){var i=e.parent.localToGlobal(e.x,e.y),l=t.parent.localToGlobal(t.x,t.y),s=new egret.Rectangle(i.x-18,i.y-18,36,36),o=new egret.Rectangle(l.x-t.width/2,l.y-t.height/2,t.width,t.height);return s.intersects(o)},t}(eui.Group);egret.registerClass(Player,"Player");var PlayerAnimationX=function(e){function t(t,i,l){e.call(this),this.width=50,this.height=100,this.anchorOffsetX=this.width/2,this.anchorOffsetY=this.height/2;var s=RES.getRes(t),o=RES.getRes(i);this.mcf=new egret.MovieClipDataFactory(s,o),this.mc=new egret.MovieClip,this.mc.movieClipData=this.mcf.generateMovieClipData(),this.mc.anchorOffsetX=this.mc.width,this.mc.anchorOffsetY=this.mc.height,this.mc.x=this.width,this.mc.y=this.height,this.mc.play(l),this.addChild(this.mc)}__extends(t,e);var i=(__define,t);i.prototype;return t}(egret.Sprite);egret.registerClass(PlayerAnimationX,"PlayerAnimationX");var PlayerDataCell=function(e){function t(){e.call(this),this.Init()}__extends(t,e);var i=(__define,t),l=i.prototype;return l.Init=function(){this.width=517,this.height=100,this.playerdata_bg=new eui.Image,this.playerdata_bg.source="pic_oneRecord",this.playerdata_bg.width=517,this.playerdata_bg.height=100,this.playerdata_bg.x=0,this.playerdata_bg.y=0,this.addChild(this.playerdata_bg),this.playerdata_head=new eui.Image,this.playerdata_head.source="player_head_bg",this.playerdata_head.width=this.playerdata_head.height=70,this.playerdata_head.x=70,this.playerdata_head.y=12,this.addChild(this.playerdata_head),this.playerdata_rank=new eui.Label,this.playerdata_rank.text="18888",this.playerdata_rank.size=18,this.playerdata_rank.fontFamily="微软雅黑",this.playerdata_rank.textColor=16753664,this.playerdata_rank.textAlign="center",this.playerdata_rank.width=100,this.playerdata_rank.height=60,this.playerdata_rank.x=-14,this.playerdata_rank.y=36,this.addChild(this.playerdata_rank),this.playerdata_name=new eui.Label,this.playerdata_name.text="我是匿名",this.playerdata_name.size=22,this.playerdata_name.fontFamily="微软雅黑",this.playerdata_name.textColor=8012846,this.playerdata_name.textAlign="center",this.playerdata_name.width=200,this.playerdata_name.height=40,this.playerdata_name.x=135,this.playerdata_name.y=35,this.addChild(this.playerdata_name),this.playerdata_score=new eui.Label,this.playerdata_score.text="20000",this.playerdata_score.size=22,this.playerdata_score.fontFamily="微软雅黑",this.playerdata_score.textColor=8012846,this.playerdata_score.textAlign="center",this.playerdata_score.width=100,this.playerdata_score.height=30,this.playerdata_score.x=372,this.playerdata_score.y=35,this.addChild(this.playerdata_score),this.playerdata_flagBottom=new eui.Image,this.playerdata_flagBottom.source="pic_buleBottom",this.playerdata_flagBottom.x=329,this.playerdata_flagBottom.y=26,this.addChild(this.playerdata_flagBottom),this.playerdata_flagStar=new eui.Image,this.playerdata_flagStar.source="pic_successStar",this.playerdata_flagStar.x=329,this.playerdata_flagStar.y=26,this.addChild(this.playerdata_flagStar),this.playerdata_flagLevel=new eui.Label,this.playerdata_flagLevel.text="8",this.playerdata_flagLevel.size=24,this.playerdata_flagLevel.fontFamily="微软雅黑",this.playerdata_flagLevel.textColor=16753664,this.playerdata_flagLevel.textAlign="center",this.playerdata_flagLevel.width=40,this.playerdata_flagLevel.height=30,this.playerdata_flagLevel.x=329,this.playerdata_flagLevel.y=33,this.addChild(this.playerdata_flagLevel)},t}(eui.Group);egret.registerClass(PlayerDataCell,"PlayerDataCell");var PlayerRankInfo=function(){function e(){this.playerScoreMax=0,this.playerRank=0,this.topRange=new Array,this.selfRange=new Array}var t=(__define,e);t.prototype;return e.getInstance=function(){return null==this.instance&&(this.instance=new e),this.instance},e}();egret.registerClass(PlayerRankInfo,"PlayerRankInfo");var PlayerInfo=function(){function e(){this._playerUid="",this._playerRank=0,this._playerIconUrl="",this._playerName="",this._playerScore=0,this._playerBgSource=""}var t=(__define,e);t.prototype;return e}();egret.registerClass(PlayerInfo,"PlayerInfo");var redDot_Style;!function(e){e[e.cellStyle_RedDot=0]="cellStyle_RedDot",e[e.cellStyle_RedRoot=1]="cellStyle_RedRoot"}(redDot_Style||(redDot_Style={}));var redDot=function(e){function t(t){switch(e.call(this),this.width=this.height=50,this.anchorOffsetX=this.width/2,this.anchorOffsetY=this.height/2,this.bg=new eui.Image,this.bg.width=this.bg.height=50,this.bg.anchorOffsetX=this.bg.width/2,this.bg.anchorOffsetY=this.bg.height/2,this.bg.x=25,this.bg.y=25,t){case redDot_Style.cellStyle_RedDot:this.bg.source="redDot",this.myStyle=redDot_Style.cellStyle_RedDot;
break;case redDot_Style.cellStyle_RedRoot:this.bg.source="redDotRoot",this.myStyle=redDot_Style.cellStyle_RedRoot,this.bg.rotation=0}this.addChild(this.bg)}__extends(t,e);var i=(__define,t),l=i.prototype;return l.getBg=function(){return this.bg},t}(eui.Group);egret.registerClass(redDot,"redDot");var Advert=function(e){function t(){e.apply(this,arguments),this.advert=null,this.imgs={load:[],game:[],end:[]},this.index=0,this.typeArray=["load","game","end"],this.url="http://www.fcbrains.com",this.isAnimation=!1,this.timeoutIndex=0}__extends(t,e);var i=(__define,t),l=i.prototype;return t.getInstance=function(){return null==this.instance&&(this.instance=new t),this.instance},l.Init=function(){this.advert=RES.getRes("advert"),null!=this.advert&&this.GetAdvertImg()},l.GetAdvertImg=function(){return-1==this.advert.app.indexOf(Info.app)?(MyDebug.MyLog("~~这个项目没有广告~~"),void console.log("~~这个项目没有广告~~")):(this.DownLoadImg(),void this.ShowAdvert("load"))},l.DownLoadImg=function(){if(0==this.advert[this.typeArray[0]].imgs.length)return this.typeArray.length>1?(this.typeArray.splice(0,1),void this.DownLoadImg()):void 0;console.warn("~~正在下载广告里的图片 当前是 "+this.typeArray[0]+(this.index+1));var e=this.advert[this.typeArray[0]].imgs[this.index];RES.getResByUrl(e,this.DownLoadImgComplete,this)},l.DownLoadImgComplete=function(e){this.imgs[this.typeArray[0]].push(e),this.index++,this.index<this.advert[this.typeArray[0]].imgs.length?this.DownLoadImg():(this.index=0,this.typeArray.splice(0,1),this.typeArray.length>0?this.DownLoadImg():(console.log("~~广告里的图片 已经下载完毕~~"),console.log(this.imgs.load.length+" "+this.imgs.game.length+" "+this.imgs.end.length)))},l.ShowAdvert=function(e){this.RemoveAdvert(),null!=this.advert&&0!=this.advert[e].imgs.length&&null==this.img&&(console.warn("~~准备添加广告~~"),this.img=new eui.Image,this.url=this.advert[e].url,this.img.source=this.imgs[e][0],this.img.width=this.advert[e].width,this.img.height=this.advert[e].height,this.img.x=this.advert[e].x,this.img.y=this.advert[e].y,this.img.alpha=1,this.img.touchEnabled=!0,this.img.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onAdvertClick,this),Main.gameLayer.addChild(this.img),Main.gameLayer.setChildIndex(this.img,1e4),this.isAnimation=!0,""!=this.advert[e].animation&&this.AdvertTweenAni(e,this.advert[e].animation),this.AdvertAnimation(e))},l.RemoveAdvert=function(){null!=this.img&&(console.warn("~~准备移除广告~~"),this.isAnimation=!1,egret.Tween.removeTweens(this.img),0!=this.timeoutIndex&&egret.clearTimeout(this.timeoutIndex),Main.gameLayer.removeChild(this.img),this.img=null)},l.AdvertAnimation=function(e,t){if(void 0===t&&(t=0),1==this.isAnimation){if(0!=this.timeoutIndex&&egret.clearTimeout(this.timeoutIndex),this.img.texture=this.imgs[e][t%this.advert[e].imgs.length],null!=this.img.texture&&1==this.advert[e].imgs.length)return;t++,this.timeoutIndex=egret.setTimeout(function(){this.AdvertAnimation(e,t)},this,500)}},l.AdvertTweenAni=function(e,t){if("position"==t){var i=this.img.x,l=this.img.y,s=this.advert[e].position.x,o=this.advert[e].position.y,r=this.advert[e].position.time;egret.Tween.get(this.img,{loop:!0}).to({x:s,y:o},r,egret.Ease.quadInOut).wait(200).to({x:i,y:l},r,egret.Ease.quadInOut)}else if("alpha"==t){var r=this.advert[e].alpha.time;egret.Tween.get(this.img,{loop:!0}).to({alpha:0},r).wait(200).to({alpha:1},r)}},l.onAdvertClick=function(){DCAgent.onEvent("normal_Advert_Click"),egret.setTimeout(function(){window.location.href=this.url},this,500)},t}(eui.Group);egret.registerClass(Advert,"Advert");var AnchorUtil=function(){function e(){}var t=(__define,e);t.prototype;return e.init=function(){this._isInited||(this._propertyChange=Object.create(null),this._anchorChange=Object.create(null),this.injectAnchor(),this._isInited=!0)},e.setAnchorX=function(e,t){e.anchorX=t},e.setAnchorY=function(e,t){e.anchorY=t},e.setAnchor=function(e,t){e.anchorX=e.anchorY=t},e.getAnchorX=function(e){return e.anchorX||0},e.getAnchorY=function(e){return e.anchorY||0},e.injectAnchor=function(){Object.defineProperty(egret.DisplayObject.prototype,"width",{get:function(){return this.$getWidth()},set:function(t){var i=this;this.$setWidth(t),e._propertyChange[this.hashCode]=!0,egret.callLater(function(){e.changeAnchor(i)},this)},enumerable:!0,configurable:!0}),Object.defineProperty(egret.DisplayObject.prototype,"height",{get:function(){return this.$getHeight()},set:function(t){var i=this;this.$setHeight(t),e._propertyChange[this.hashCode]=!0,egret.callLater(function(){e.changeAnchor(i)},this)},enumerable:!0,configurable:!0}),Object.defineProperty(egret.DisplayObject.prototype,"anchorX",{get:function(){return this._anchorX},set:function(t){var i=this;this._anchorX=t,e._propertyChange[this.hashCode]=!0,e._anchorChange[this.hashCode]=!0,egret.callLater(function(){e.changeAnchor(i)},this)},enumerable:!0,configurable:!0}),Object.defineProperty(egret.DisplayObject.prototype,"anchorY",{get:function(){return this._anchorY},set:function(t){var i=this;this._anchorY=t,e._propertyChange[this.hashCode]=!0,e._anchorChange[this.hashCode]=!0,egret.callLater(function(){e.changeAnchor(i)},this)},enumerable:!0,configurable:!0}),Object.defineProperty(egret.DisplayObject.prototype,"anchor",{get:function(){return this._anchorX},set:function(t){var i=this;this._anchorX=t,this._anchorY=t,e._propertyChange[this.hashCode]=!0,e._anchorChange[this.hashCode]=!0,egret.callLater(function(){e.changeAnchor(i)},this)},enumerable:!0,configurable:!0})},e.changeAnchor=function(t){e._propertyChange[t.hashCode]&&e._anchorChange[t.hashCode]&&(t.anchorOffsetX=t._anchorX*t.width,t.anchorOffsetY=t._anchorY*t.height,delete e._propertyChange[t.hashCode])},e}();egret.registerClass(AnchorUtil,"AnchorUtil");var AudioManager=function(){function e(){}var t=(__define,e);t.prototype;return e.PlaySound=function(e){""!=e&&null!=e&&(this.sound=RES.getRes(e),this.sound.play())},e}();egret.registerClass(AudioManager,"AudioManager");var DialogManager;!function(e){function t(t,i,l){if(void 0===l&&(l=1),1==l){if(""!=this.moment_dict1&&this.dict1[this.moment_dict1].hide(),null==this.dict1[i]){var s=new t;s.show(),this.dict1[i]=s}else this.dict1[i].showing||this.dict1[i].show();this.moment_dict1=i}else if(2==l){if(""!=this.moment_dict2&&this.dict2[this.moment_dict2].hide(),null==this.dict2[i]){var s=new t;s.show(),this.dict2[i]=s}else this.dict2[i].showing||this.dict2[i].show();this.moment_dict2=i,console.log("当前打开",this.moment_dict2)}else if(3==l){if(""!=this.moment_dict3&&this.dict3[this.moment_dict3].hide(),null==this.dict3[i]){var s=new t;s.show(),this.dict3[i]=s}else this.dict3[i].showing||this.dict3[i].show();this.moment_dict3=i}0==l?null==e.hint&&(e.hint=new t,e.hint.show()):null!=e.hint&&(e.hint.hide(),e.hint.show())}function i(e,t,i){void 0===t&&(t=1),void 0===i&&(i=!1),1==t?null!=this.dict1[e]&&(this.dict1[e].parent&&this.dict1[e].hide(),0==i&&(this.dict1[e]=null)):2==t?null!=this.dict2[e]&&(this.dict2[e].parent&&this.dict2[e].hide(),0==i&&(this.dict2[e]=null)):3==t&&null!=this.dict3[e]&&(this.dict3[e].parent&&this.dict3[e].hide(),0==i&&(this.dict3[e]=null))}e.dict1={},e.dict2={},e.dict3={},e.moment_dict0="",e.moment_dict1="",e.moment_dict2="",e.moment_dict3="",e.open=t,e.remove=i}(DialogManager||(DialogManager={}));var Erweima;!function(e){function t(e){function t(){l(),Main.gameLayer.removeChild(s)}var s=new egret.Shape;s.graphics.beginFill(0,.8),s.graphics.drawRect(0,0,640,960),s.graphics.endFill(),Main.gameLayer.addChild(s),s.touchEnabled=!0,s.addEventListener(egret.TouchEvent.TOUCH_TAP,t,this),i(e)}function i(e){var t=window.innerWidth,i=window.innerHeight,l=document.getElementById("canvasDiv"),s=document.createElement("img");s.width=l.clientWidth/2,s.height=1.17*s.width;var o=t/2-s.width/2,r=i/2-s.height/2;s.id="erweima",s.setAttribute("src","resource/assets/"+e+".png"),s.setAttribute("style","margin:0px;padding:0px;position:absolute;z-index:99999;left:"+o+"px;top:"+r+"px"),document.body.appendChild(s)}function l(){var e=document.getElementById("erweima");document.body.removeChild(e)}e.Show=t}(Erweima||(Erweima={}));var Info;!function(e){function t(){l={or:GameController.getInstance().data.originalScore,fi:GameController.getInstance().data.finalScore,de:{}}}function i(){var e=JSON.stringify(l);return console.log(e),e}e.app="pptu",e.appDataEyeId="C83A72BBE8F6B8E3E59D16B27F8DB27B4",e.head="www",e.uid="",e.pass="",e.fid="",e.nickname="",e.sex="",e.add="",e.iconUrl="",e.isLikeServer=!0,e.averageScore=2,e.standardDeviation=2,e.rank="",e.playerScore=0,e.curTimeScore=0;var l;e.SetData=t,e.GetData=i}(Info||(Info={}));var MyDebug;!function(e){function t(e,t){if(console.warn(e+"  "+t),!(s>6))switch(s){case 1:320>e&&480>t&&s++;break;case 2:320>e&&480>t&&s++;break;case 3:e>320&&480>t&&s++;break;case 4:320>e&&t>480&&s++;break;case 5:320>e&&t>480&&s++;break;case 6:e>320&&t>480&&(s++,i())}}function i(){}function l(e){console.log(e)}e.text="";var s=1;e.GetPoint=t,e.MyLog=l}(MyDebug||(MyDebug={}));var ShareSDK;!function(e){function t(t){e.title=t,a(),h(),n(),d()}function i(){console.log("initShareSDK"),e.title="挑战反应极限，就在砰砰兔!",y="砰砰兔，欢快的跳跃体验！",e.link="http://"+Info.head+".fcbrains.com/games/"+Info.app+"/index.html?uid="+Info.uid,m="http://"+Info.head+".fcbrains.com/games/"+Info.app+"/img/icon.png",c="http://"+Info.head+".fcbrains.com/"+Info.app+"/mpjsauthinfo",l()}function l(){u=new egret.URLLoader;var e=new egret.URLRequest(c);u.dataFormat=egret.URLLoaderDataFormat.TEXT,e.method=egret.URLRequestMethod.GET,u.addEventListener(egret.Event.CONNECT,s,this),u.addEventListener(egret.Event.COMPLETE,o,this),u.addEventListener(egret.IOErrorEvent.IO_ERROR,function(e){console.error("WeiXin 注入失败!!")},this),u.load(e)}function s(e){console.log("connect")}function o(e){var t=JSON.parse(u.data.toString());console.log(t),g=t.appId,p=t.timestamp,C=t.nonceStr,f=t.signature,r(),a()}function r(){var e=new BodyConfig;e.debug=!1,e.appId=g,e.timestamp=p,e.nonceStr=C,e.signature=f,e.jsApiList=["checkJsApi","onMenuShareTimeline","onMenuShareAppMessage","onMenuShareQQ","onMenuShareWeibo","hideMenuItems","showMenuItems","hideAllNonBaseMenuItem","showAllNonBaseMenuItem","translateVoice","startRecord","stopRecord","playVoice","pauseVoice","stopVoice","uploadVoice","downloadVoice","chooseImage","previewImage","uploadImage","downloadImage","getNetworkType","openLocation","getLocation","hideOptionMenu","showOptionMenu","closeWindow","scanQRCode","chooseWXPay","openProductSpecificView","addCard","chooseCard","openCard"],wx.config(e)}function a(){_.title=e.title,_.link=e.link,_.imgUrl=m,_.trigger=function(){},_.success=function(){DCAgent.onEvent("normal_Share_Event")},_.cancel=function(){},_.fail=function(e){},wx.onMenuShareTimeline(_)}function h(){w.title=e.title,w.desc=y,w.link=e.link,w.imgUrl=m,w.trigger=function(){},w.success=function(){DCAgent.onEvent("normal_Share_Event")},w.cancel=function(){},w.fail=function(e){},wx.onMenuShareAppMessage(w)}function n(){S.title=e.title,S.desc=y,S.link=e.link,S.imgUrl=m,S.trigger=function(){},S.complete=function(e){},S.success=function(){DCAgent.onEvent("normal_Share_Event")},S.cancel=function(){},S.fail=function(e){},wx.onMenuShareQQ(S)}function d(){v.title=e.title,v.desc=y,v.link=e.link,v.imgUrl=m,v.trigger=function(){},v.complete=function(e){},v.success=function(){DCAgent.onEvent("normal_Share_Event")},v.cancel=function(){},v.fail=function(e){},wx.onMenuShareWeibo(v)}var c,y,m,g="",C="",p="",f="";e.Update=t,e.init=i;var u,_=new BodyMenuShareTimeline,w=new BodyMenuShareAppMessage,S=new BodyMenuShareQQ,v=new BodyMenuShareWeibo}(ShareSDK||(ShareSDK={}));var UidUrlManager=function(){function e(){}var t=(__define,e);t.prototype;return e.GetCookie=function(e){if(document.cookie.length>0){var t=document.cookie.indexOf(e+"=");if(-1!=t){t=t+e.length+1;var i=document.cookie.indexOf(";",t);-1==i&&(i=document.cookie.length);var l=document.cookie.substring(t,i);return l=l.split('"')[0],void("uid"==e?Info.uid=l:"pass"==e&&(Info.pass=l))}if(null!=localStorage.getItem("zqdn_cookie_uid"))return localStorage.removeItem("zqdn_cookie_uid"),l="error",void("uid"==e?Info.uid=l:"pass"==e&&(Info.pass=l));localStorage.setItem("zqdn_cookie_uid","1")}else{if(null!=localStorage.getItem("zqdn_cookie_uid"))return localStorage.removeItem("zqdn_cookie_uid"),l="error",void("uid"==e?Info.uid=l:"pass"==e&&(Info.pass=l));localStorage.setItem("zqdn_cookie_uid","1")}window.location.href="http://"+Info.head+".fcbrains.com/"+Info.app+"/wxlogin"},e.ChangeURL=function(){var e=window.location.href.toString();if(-1!=e.indexOf("www")?Info.head="www":Info.head="dev",console.log(Info.head),-1!=window.location.href.indexOf("?")||-1!=window.location.href.indexOf("uid")){if(-1!=e.indexOf("uid")){var t=e.split("uid=")[1];-1!=t.indexOf("&")&&(t=t.split("&")[0]),localStorage.setItem("zqdn_friend_uid",t)}return void(window.location.href="http://"+Info.head+".fcbrains.com/games/"+Info.app+"/index.html")}this.GetCookie("uid"),this.GetCookie("pass")},e}();egret.registerClass(UidUrlManager,"UidUrlManager");var Week;!function(e){function t(e){for(var t=new Date(e),l=t.getFullYear(),s=new Date(l+"-01-01"),o=0,r=0;r<t.getMonth();r++)switch(r){case 0:case 2:case 4:case 6:case 7:case 9:o+=31;break;case 1:o+=i(t)?29:28;break;case 3:case 5:case 8:case 10:o+=30}o+=t.getDate();var a=s.getDay(),h=o-(7-a),n=1;return n+=h/7,h%7!=0&&(n+=1),parseInt(n.toString())}function i(e){return 0==e.getFullYear()%4&&(e.getFullYear()%100!=0||e.getFullYear()%400==0)}e.getWeek=t}(Week||(Week={}));var ThemeAdapter=function(){function e(){}var t=(__define,e),i=t.prototype;return i.getTheme=function(e,t,i,l){function s(e){t.call(l,e)}function o(t){t.resItem.url==e&&(RES.removeEventListener(RES.ResourceEvent.ITEM_LOAD_ERROR,o,null),i.call(l))}RES.addEventListener(RES.ResourceEvent.ITEM_LOAD_ERROR,o,null),RES.getResByUrl(e,s,this,RES.ResourceItem.TYPE_TEXT)},e}();egret.registerClass(ThemeAdapter,"ThemeAdapter",["eui.IThemeAdapter"]);var View=function(e){function t(){e.apply(this,arguments)}__extends(t,e);var i=(__define,t),l=i.prototype;return l.show=function(){this.parent||Main.euiLayer.addChild(this)},l.hide=function(){this.parent&&Main.euiLayer.removeChild(this)},t}(eui.Group);egret.registerClass(View,"View");var EndView=function(e){function t(){e.call(this),DialogManager.remove("GameView")}__extends(t,e);var i=(__define,t),l=i.prototype;return l.createChildren=function(){e.prototype.createChildren.call(this),t.m_UI=new EndViewSkin,this.addChild(t.m_UI),t.m_UI.tryAgain_button.addEventListener(egret.TouchEvent.TOUCH_TAP,this.tryAgain,t.m_UI),t.m_UI.moreGame_button.addEventListener(egret.TouchEvent.TOUCH_TAP,this.more,t.m_UI),t.m_UI.authorText.addEventListener(egret.TouchEvent.TOUCH_TAP,this.hrefEvent,t.m_UI),t.m_UI.xinlang_Icon.addEventListener(egret.TouchEvent.TOUCH_TAP,this.shareXinlang,t.m_UI),t.m_UI.qq_Icon.addEventListener(egret.TouchEvent.TOUCH_TAP,this.shareQQ,t.m_UI),t.m_UI.txWeibo_Icon.addEventListener(egret.TouchEvent.TOUCH_TAP,this.shareTxWeibo,t.m_UI),t.m_UI.erweima_Icon.addEventListener(egret.TouchEvent.TOUCH_TAP,this.shareIt,t.m_UI)},l.isAndroidAgents=function(){var e=window.navigator.userAgent.toLowerCase();if(""+e.match(/android/i)=="android"){console.log("true");var t="http://www.fcbrains.com/web/kjyx/dl/index.html";window.location.href=t}else{console.log("false");var t="http://www.fcbrains.com/web/kjyx/dl/index.html";window.location.href=t}},l.onClickBtnAnimator=function(e){e.target.touchEnabled=!1;var t=e.currentTarget._source.toString(),i=e.target;i.scaleX=i.scaleY=1,egret.Tween.get(i,{loop:!1}).to({scaleX:1.1,scaleY:1.1},100).to({scaleX:1,scaleY:1},100).call(function(){switch(t){case"tryAgain":this.tryAgain();break;case"more":this.more();break;case"detail":this.detail();break;case"share":this.rankSystem()}},this)},l.hrefEvent=function(){this.authorHref="http://weibo.com/monkeybeanZ",window.open(this.authorHref,"newwindow")},l.shareXinlang=function(){this.containerText="MonkeyBean Game : 化身砰砰兔，止步哪一层？ ",this.url=window.location.href,this.imgUrl="http://monkeybean.applinzi.com/ppTu/resource/assets_self/game/pptu_Icon.png";var e="http://v.t.sina.com.cn/share/share.php?title="+this.containerText+"&url="+this.url+"&content=utf-8&sourceUrl="+this.url+"&pic="+this.imgUrl;window.open(e,"newwindow","height=400,width=400,top=100,left=100")},l.shareQQ=function(){this.containerText="MonkeyBean Game : 化身砰砰兔，止步哪一层？ ",this.url=window.location.href,this.imgUrl="http://monkeybean.applinzi.com/ppTu/resource/assets_self/game/pptu_Icon.png";var e="http://sns.qzone.qq.com/cgi-bin/qzshare/cgi_qzshare_onekey?summary="+this.containerText+"&url="+this.url+"&pics="+this.imgUrl;window.open(e,"newwindow","height=400,width=400,top=100,left=100")},l.shareTxWeibo=function(){this.containerText="MonkeyBean Game : 化身砰砰兔，止步哪一层？ ",this.url=window.location.href,this.imgUrl="http://monkeybean.applinzi.com/ppTu/resource/assets_self/game/pptu_Icon.png";var e="http://v.t.qq.com/share/share.php?title="+this.containerText+"&url="+this.url+"&pic="+this.imgUrl;window.open(e,"newwindow","height=100,width=100,top=100,left=100")},l.shareIt=function(){window.open(window.location.href,"newwindow")},l.removeShare=function(){t.m_UI.authorText.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.hrefEvent,t.m_UI),t.m_UI.xinlang_Icon.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.shareXinlang,t.m_UI),t.m_UI.qq_Icon.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.shareQQ,t.m_UI),t.m_UI.txWeibo_Icon.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.shareTxWeibo,t.m_UI),t.m_UI.erweima_Icon.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.shareIt,t.m_UI)},l.tryAgain=function(){t.m_UI.tryAgain_button.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.tryAgain,t.m_UI),this.removeShare(),egret.Tween.get(t.m_UI.tryAgain_button).to({scaleX:1.05,scaleY:1.05},150).to({scaleX:1,scaleY:1},100),egret.setTimeout(function(){DialogManager.open(GameView,"GameView",1),GameController.getInstance().StartGame()},this,300)},l.more=function(){t.m_UI.moreGame_button.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.more,t.m_UI),this.removeShare(),egret.Tween.get(t.m_UI.moreGame_button).to({scaleX:1.05,scaleY:1.05},150).to({scaleX:1,scaleY:1},100),egret.setTimeout(function(){var e="http://"+Info.head+".fcbrains.com/games/zqdn/index.html";window.location.href=e},this,300)},l.detail=function(){console.log("返回潜能分析"),egret.setTimeout(function(){var e="http://"+Info.head+".fcbrains.com/games/fkxt/index.html";window.location.href=e},this,500)},l.rankSystem=function(){console.log("返回排行榜"),egret.setTimeout(function(){var e="http://"+Info.head+".fcbrains.com/games/phxt/index.html";window.location.href=e},this,500)},l.ChangeShare=function(){var e="在砰砰兔中我得了"+GameController.getInstance().data.originalScore+"分，你呢？";ShareSDK.Update(e)},t}(View);egret.registerClass(EndView,"EndView");var EndViewSkin=function(e){function t(){e.call(this),this.skinName="src/skins/EndSkin.exml",this.tryAgain_button.width=221,this.tryAgain_button.height=100,this.tryAgain_button.anchorOffsetX=this.tryAgain_button.width/2,this.tryAgain_button.anchorOffsetY=this.tryAgain_button.height/2,this.tryAgain_button.x=166,this.tryAgain_button.y=897,this.moreGame_button.width=221,this.moreGame_button.height=100,this.moreGame_button.anchorOffsetX=this.moreGame_button.width/2,this.moreGame_button.anchorOffsetY=this.moreGame_button.height/2,this.moreGame_button.x=472,this.moreGame_button.y=897}__extends(t,e);var i=(__define,t),l=i.prototype;return l.partAdded=function(t,i){e.prototype.partAdded.call(this,t,i)},t}(eui.Component);egret.registerClass(EndViewSkin,"EndViewSkin");var GameView=function(e){function t(){e.call(this),DialogManager.remove("EndView")}__extends(t,e);var i=(__define,t),l=i.prototype;return l.createChildren=function(){e.prototype.createChildren.call(this),t.m_UI=new GameViewSkin,this.addChild(t.m_UI),Advert.getInstance().ShowAdvert("game")},t}(View);egret.registerClass(GameView,"GameView");var GameViewSkin=function(e){function t(){e.call(this),this.skinName="src/skins/GameSkin.exml",egret.Tween.get(this.click_tip,{loop:!0}).to({alpha:0},100).wait(500).to({alpha:1},100).wait(500)}__extends(t,e);var i=(__define,t),l=i.prototype;return l.partAdded=function(t,i){e.prototype.partAdded.call(this,t,i)},t}(eui.Component);egret.registerClass(GameViewSkin,"GameViewSkin");var LoadingView=function(e){function t(){e.call(this),this.loadingText=["l","o","a","d","i","n","g","1","2","3"],this.isHide=!1,this.logoLeftAniIndex=0}__extends(t,e);var i=(__define,t),l=i.prototype;return l.createChildren=function(){e.prototype.createChildren.call(this),this.m_UI=new LoadingViewSkin,this.addChild(this.m_UI),console.log(this.m_UI.logo_right),AnchorUtil.setAnchor(this.m_UI.logo_right,.5),this.LoadingAni(),this.LogoLeftAni(),egret.Tween.get(this.m_UI.logo_right,{loop:!0}).to({rotation:360},3e3)},l.LoadingAni=function(){if(!this.isHide){for(var e=0;e<this.loadingText.length;e++)egret.Tween.get(this.m_UI["loading_"+this.loadingText[e]]).wait(300*e).to({y:690},120,egret.Ease.quadOut).wait(60).to({y:705},60,egret.Ease.quintOut);egret.setTimeout(this.LoadingAni,this,300*this.loadingText.length)}},l.LogoLeftAni=function(){this.isHide||(this.logoLeftAniIndex=(this.logoLeftAniIndex+1)%24,this.m_UI.logo_left.source="logo_left.logo_ani_"+this.logoLeftAniIndex,egret.setTimeout(this.LogoLeftAni,this,41.7))},l.LogoGroupAni=function(){},t}(View);egret.registerClass(LoadingView,"LoadingView");var LoadingViewSkin=function(e){function t(){e.call(this),this.skinName="src/skins/LoadingSkin.exml"}__extends(t,e);var i=(__define,t),l=i.prototype;return l.partAdded=function(t,i){e.prototype.partAdded.call(this,t,i)},t}(eui.Component);egret.registerClass(LoadingViewSkin,"LoadingViewSkin");var MyLoadingView=function(e){function t(){e.call(this)}__extends(t,e);var i=(__define,t),l=i.prototype;return l.createChildren=function(){e.prototype.createChildren.call(this),this.m_UI=new MyLoadingViewSkin,this.addChild(this.m_UI),this.showAnimation()},l.showAnimation=function(){egret.Tween.get(this.m_UI.whiteDot1,{loop:!0}).to({alpha:0},1).wait(100).to({alpha:1},1).wait(300),egret.Tween.get(this.m_UI.whiteDot2,{loop:!0}).to({alpha:0},1).wait(200).to({alpha:1},1).wait(200),egret.Tween.get(this.m_UI.whiteDot3,{loop:!0}).to({alpha:0},1).wait(300).to({alpha:1},1).wait(100)},t}(View);egret.registerClass(MyLoadingView,"MyLoadingView");var MyLoadingViewSkin=function(e){function t(){e.call(this),this.skinName="src/skins/MyLoadingSkin.exml"}__extends(t,e);var i=(__define,t),l=i.prototype;return l.partAdded=function(t,i){e.prototype.partAdded.call(this,t,i)},t}(eui.Component);egret.registerClass(MyLoadingViewSkin,"MyLoadingViewSkin");